(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(void 0===i?"[DEFAULT]":i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Object(r.g)(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Object(r.e)(l.value,2),f=h[1];a===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.g)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return so})),n.d(e,"b",(function(){return ta})),n.d(e,"c",(function(){return Ws})),n.d(e,"d",(function(){return $s})),n.d(e,"e",(function(){return Qs})),n.d(e,"f",(function(){return za})),n.d(e,"g",(function(){return Ra})),n.d(e,"h",(function(){return Hi})),n.d(e,"i",(function(){return ha})),n.d(e,"j",(function(){return Lo})),n.d(e,"k",(function(){return ra})),n.d(e,"l",(function(){return Fo})),n.d(e,"m",(function(){return gn})),n.d(e,"n",(function(){return Ns})),n.d(e,"o",(function(){return Y})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return oo})),n.d(e,"s",(function(){return ns})),n.d(e,"t",(function(){return rs})),n.d(e,"u",(function(){return na})),n.d(e,"v",(function(){return ht})),n.d(e,"w",(function(){return La})),n.d(e,"x",(function(){return lt})),n.d(e,"y",(function(){return Aa})),n.d(e,"z",(function(){return pa})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return Xs})),n.d(e,"C",(function(){return Zs})),n.d(e,"D",(function(){return qo})),n.d(e,"E",(function(){return Uo})),n.d(e,"F",(function(){return Vo})),n.d(e,"G",(function(){return Ho})),n.d(e,"H",(function(){return or})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return Ua})),n.d(e,"K",(function(){return as})),n.d(e,"L",(function(){return Sa})),n.d(e,"M",(function(){return Gi})),n.d(e,"N",(function(){return Go})),n.d(e,"O",(function(){return zo})),n.d(e,"P",(function(){return cs})),n.d(e,"Q",(function(){return yt})),n.d(e,"R",(function(){return ka})),n.d(e,"S",(function(){return Pn})),n.d(e,"T",(function(){return Rn})),n.d(e,"U",(function(){return Ba})),n.d(e,"V",(function(){return Oa})),n.d(e,"W",(function(){return ea})),n.d(e,"X",(function(){return Ki})),n.d(e,"Y",(function(){return Os})),n.d(e,"Z",(function(){return rr})),n.d(e,"ab",(function(){return Vn})),n.d(e,"bb",(function(){return On})),n.d(e,"cb",(function(){return Cn})),n.d(e,"db",(function(){return Nn})),n.d(e,"eb",(function(){return An})),n.d(e,"fb",(function(){return xn})),n.d(e,"gb",(function(){return kn})),n.d(e,"hb",(function(){return _s})),n.d(e,"ib",(function(){return qa})),n.d(e,"jb",(function(){return Ss})),n.d(e,"kb",(function(){return Es})),n.d(e,"lb",(function(){return In})),n.d(e,"mb",(function(){return B})),n.d(e,"nb",(function(){return lo})),n.d(e,"ob",(function(){return Oo})),n.d(e,"pb",(function(){return To})),n.d(e,"qb",(function(){return ws})),n.d(e,"rb",(function(){return Kt})),n.d(e,"sb",(function(){return j})),n.d(e,"tb",(function(){return Tn})),n.d(e,"ub",(function(){return Vt})),n.d(e,"vb",(function(){return Or})),n.d(e,"wb",(function(){return po})),n.d(e,"xb",(function(){return Hs})),n.d(e,"yb",(function(){return wt})),n.d(e,"zb",(function(){return Ct})),n.d(e,"Ab",(function(){return E})),n.d(e,"Bb",(function(){return T})),n.d(e,"Cb",(function(){return Tt})),n.d(e,"Db",(function(){return xt})),n.d(e,"Eb",(function(){return go})),n.d(e,"Fb",(function(){return Eo})),n.d(e,"Gb",(function(){return So})),n.d(e,"Hb",(function(){return _o})),n.d(e,"Ib",(function(){return Do})),n.d(e,"Jb",(function(){return st})),n.d(e,"Kb",(function(){return vo})),n.d(e,"Lb",(function(){return Ks})),n.d(e,"Mb",(function(){return Io})),n.d(e,"Nb",(function(){return zs})),n.d(e,"Ob",(function(){return ke})),n.d(e,"Pb",(function(){return Ae})),n.d(e,"Qb",(function(){return bo})),n.d(e,"Rb",(function(){return Bs})),n.d(e,"Sb",(function(){return sr})),n.d(e,"Tb",(function(){return Ot})),n.d(e,"Ub",(function(){return yo})),n.d(e,"Vb",(function(){return Ao})),n.d(e,"Wb",(function(){return ko})),n.d(e,"Xb",(function(){return No}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){return{toString:t}.toString()}function y(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const g=y("Inject",t=>({token:t})),v=y("Optional"),b=y("Self"),w=y("SkipSelf");var _=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function S(t){for(let e in t)if(t[e]===S)return e;throw Error("Could not find renamed property on target object.")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function O(t){return I(t,t[x])||I(t,t[N])}function I(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(D))?t[A]:null}const x=S({"\u0275prov":S}),A=S({"\u0275inj":S}),k=S({"\u0275provFallback":S}),N=S({ngInjectableDef:S}),D=S({ngInjectorDef:S});function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const P=S({__forward_ref__:S});function L(t){return t.__forward_ref__=L,t.toString=function(){return j(this())},t}function F(t){return"function"==typeof(e=t)&&e.hasOwnProperty(P)&&e.__forward_ref__===L?t():t;var e}const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=M||q||U||V,H=S({"\u0275cmp":S}),z=S({"\u0275dir":S}),G=S({"\u0275pipe":S}),K=S({"\u0275mod":S}),$=S({"\u0275loc":S}),Q=S({"\u0275fac":S}),W=S({__NG_ELEMENT_ID__:S});class J{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Y=new J("INJECTOR",-1),Z={},X=/\n/gm,tt=S({provide:String,useValue:S});let et,nt=void 0;function rt(t){const e=nt;return nt=t,e}function it(t){const e=et;return et=t,e}function ot(t,e=_.Default){if(void 0===nt)throw new Error("inject() must be called from an injection context");return null===nt?at(t,void 0,e):nt.get(t,e&_.Optional?null:void 0,e)}function st(t,e=_.Default){return(et||ot)(F(t),e)}function at(t,e,n){const r=O(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${j(t)}]`)}function ut(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=_.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=_.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=_.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=_.Self:t=i instanceof g||i===g?i.token:i}e.push(st(t,n))}else e.push(st(r))}return e}class ct{get(t,e=Z){if(e===Z){const e=new Error(`NullInjectorError: No provider for ${j(t)}!`);throw e.name="NullInjectorError",e}return e}}class lt{}class ht{}function ft(t,e){t.forEach(t=>Array.isArray(t)?ft(t,e):e(t))}function dt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var mt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),yt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const gt={},vt=[];let bt=0;function wt(t){return m(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yt.Emulated,id:"c",styles:t.styles||vt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=bt++,n.inputs=It(t.inputs,e),n.outputs=It(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(_t):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(St):null,n})}function _t(t){return At(t)||function(t){return t[z]||null}(t)}function St(t){return function(t){return t[G]||null}(t)}const Et={};function Tt(t){const e={type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{Et[t.id]=t.type}),e}function Ot(t,e){return m(()=>{const n=Nt(t,!0);n.declarations=e.declarations||vt,n.imports=e.imports||vt,n.exports=e.exports||vt})}function It(t,e){if(null==t)return gt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Ct=wt;function xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[H]||null}function kt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}function Nt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${j(t)} does not have '\u0275mod' property.`);return n}function Dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function jt(t){return Array.isArray(t)&&!0===t[1]}function Rt(t){return 0!=(8&t.flags)}function Pt(t){return 2==(2&t.flags)}function Lt(t){return 1==(1&t.flags)}function Ft(t){return null!==t.template}function Mt(t){return 0!=(512&t[2])}class Ut{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Vt(){return qt}function qt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ht),Bt}function Bt(){const t=zt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===gt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ht(t,e,n,r){const i=zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:gt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ut(u&&u.currentValue,e,s===gt),t[r]=e}function zt(t){return t.__ngSimpleChanges__||null}Vt.ngInherit=!0;let Gt=void 0;function Kt(t){Gt=t}function $t(t){return!!t.listen}const Qt={createRenderer:(t,e)=>void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Wt(e[t.index])}function Yt(t,e){return t.data[e+20]}function Zt(t,e){const n=e[t];return Dt(n)?n:n[0]}function Xt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null===t||null==e?null:t[e]}function re(t){t[18]=0}function ie(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const oe={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function se(){return oe.bindingsEnabled}function ae(){return oe.lFrame.lView}function ue(){return oe.lFrame.tView}function ce(){return oe.lFrame.previousOrParentTNode}function le(t,e){oe.lFrame.previousOrParentTNode=t,oe.lFrame.isParent=e}function he(){return oe.lFrame.isParent}function fe(){return oe.checkNoChangesMode}function de(t){oe.checkNoChangesMode=t}function pe(){return oe.lFrame.bindingIndex++}function me(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ye(e)}function ye(t){oe.lFrame.currentDirectiveIndex=t}function ge(){return oe.lFrame.currentQueryIndex}function ve(t){oe.lFrame.currentQueryIndex=t}function be(t,e){const n=_e();oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function we(t,e){const n=_e(),r=t[1];oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function _e(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ee(){const t=oe.lFrame;return oe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Te=Ee;function Oe(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return oe.lFrame.selectedIndex}function Ce(t){oe.lFrame.selectedIndex=t}function xe(){const t=oe.lFrame;return Yt(t.tView,t.selectedIndex)}function Ae(){oe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ke(){oe.lFrame.currentNamespace=null}function Ne(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function De(t,e,n){Pe(t,e,3,n)}function je(t,e,n,r){(3&t[2])===n&&Pe(t,e,n,r)}function Re(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Pe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Le(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Le(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Fe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Me(t,e,n){const r=$t(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ve(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ue(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Be(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Be(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function He(t){return-1!==t}function ze(t){return 32767&t}function Ge(t){return t>>16}function Ke(t,e){let n=Ge(t),r=e;for(;n>0;)r=r[15],n--;return r}function $e(t){return"string"==typeof t?t:null==t?"":""+t}function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}const We=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Je(t){return t instanceof Function?t():t}let Ye=!0;function Ze(t){const e=Ye;return Ye=t,e}let Xe=0;function tn(t,e){const n=nn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,en(r.data,t),en(e,null),en(r.blueprint,null));const i=rn(t,e),o=t.injectorIndex;if(He(i)){const t=ze(i),n=Ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function en(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function on(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Xe++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function sn(t,e,n,r=_.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){be(e,t);try{const t=i();if(null!=t||r&_.Optional)return t;throw new Error(`No provider for ${Qe(n)}!`)}finally{Te()}}else if("number"==typeof i){if(-1===i)return new dn(t,e);let o=null,s=nn(t,e),a=-1,u=r&_.Host?e[16][6]:null;for((-1===s||r&_.SkipSelf)&&(a=-1===s?rn(t,e):e[s+8],fn(r,!1)?(o=e[1],s=ze(a),e=Ke(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(hn(i,s,t.data)){const t=un(s,e,n,o,r,u);if(t!==an)return t}fn(r,e[1].data[s+8]===u)&&hn(i,s,e)?(o=t,s=ze(a),e=Ke(a,e)):s=-1}}}if(r&_.Optional&&void 0===i&&(i=null),0==(r&(_.Self|_.Host))){const t=e[9],o=it(void 0);try{return t?t.get(n,i,r&_.Optional):at(n,i,r&_.Optional)}finally{it(o)}}if(r&_.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Qe(n)}]`)}const an={};function un(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=cn(a,s,n,null==r?Pt(a)&&Ye:r!=s&&3===a.type,i&_.Host&&o===a);return null!==u?ln(e,s,u,a):an}function cn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ft(t)&&t.type===n)return u}return null}function ln(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Fe){const s=i;if(s.resolving)throw new Error("Circular dep for "+Qe(o[n]));const a=Ze(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=it(s.injectImpl)),be(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=qt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&it(u),Ze(a),s.resolving=!1,Te()}}return i}function hn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function fn(t,e){return!(t&_.Self||t&_.Host&&e)}class dn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return sn(this._tNode,this._lView,t,void 0,e)}}function pn(t){return t.ngDebugContext}function mn(t){return t.ngOriginalError}function yn(t,...e){t.error(...e)}class gn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pn(t)?pn(t):this._findContext(mn(t)):null}_findOriginalError(t){let e=mn(t);for(;e&&mn(e);)e=mn(e);return e}}class vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class bn extends vn{getTypeName(){return"HTML"}}class wn extends vn{getTypeName(){return"Style"}}class _n extends vn{getTypeName(){return"Script"}}class Sn extends vn{getTypeName(){return"URL"}}class En extends vn{getTypeName(){return"ResourceURL"}}function Tn(t){return t instanceof vn?t.changingThisBreaksApplicationSecurity:t}function On(t,e){const n=In(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function In(t){return t instanceof vn&&t.getTypeName()||null}function Cn(t){return new bn(t)}function xn(t){return new wn(t)}function An(t){return new _n(t)}function kn(t){return new Sn(t)}function Nn(t){return new En(t)}let Dn=!0,jn=!1;function Rn(){return jn=!0,Dn}function Pn(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");Dn=!1}class Ln{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vn(t){return(t=String(t)).match(Mn)||t.match(Un)?t:(Rn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Bn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Hn=qn("area,br,col,hr,img,wbr"),zn=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gn=qn("rp,rt"),Kn=Bn(Gn,zn),$n=Bn(Hn,Bn(zn,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bn(Gn,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kn),Qn=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wn=qn("srcset"),Jn=Bn(Qn,Wn,qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yn=qn("script,style,template");class Zn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!$n.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Jn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Qn[o]&&(s=Vn(s)),Wn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Vn(t.trim())).join(", ")),this.buf.push(" ",e,'="',er(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();$n.hasOwnProperty(e)&&!Hn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(er(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Xn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tr=/([^\#-~ |!])/g;function er(t){return t.replace(/&/g,"&amp;").replace(Xn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(tr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nr;function rr(t,e){let n=null;try{nr=nr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Ln:new Fn(t)}(t);let r=e?String(e):"";n=nr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=nr.getInertBodyElement(r)}while(r!==o);const s=new Zn,a=s.sanitizeChildren(ir(n)||n);return Rn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ir(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ir(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function sr(t){const e=function(){const t=ae();return t&&t[12]}();return e?e.sanitize(or.URL,t)||"":On(t,"URL")?Tn(t):Vn($e(t))}function ar(t,e){t.__ngContext__=e}function ur(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function cr(){throw new Error("Cannot mix multi providers and regular providers")}function lr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function hr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==lr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fr(t){return 0===t.type&&"ng-template"!==t.tagName}function dr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function pr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ue(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!dr(t,u,n)||""===u&&1===e.length){if(mr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!hr(t.attrs,c,n)){if(mr(r))return!1;s=!0}continue}const l=yr(8&r?"class":u,i,fr(t),n);if(-1===l){if(mr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==lr(e,c,0)||2&r&&c!==t){if(mr(r))return!1;s=!0}}}}else{if(!s&&!mr(r)&&!mr(u))return!1;if(s&&mr(u))continue;s=!1,r=u|1&r}}return mr(r)||s}function mr(t){return 0==(1&t)}function yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function gr(t,e,n=!1){for(let r=0;r<e.length;r++)if(pr(t,e[r],n))return!0;return!1}function vr(t,e){return t?":not("+e.trim()+")":e}function br(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||mr(s)||(e+=vr(o,i),i=""),r=s,o=o||!mr(r);n++}return""!==i&&(e+=vr(o,i)),e}const wr={};function _r(t){const e=t[3];return jt(e)?e[3]:e}function Sr(t){return Tr(t[13])}function Er(t){return Tr(t[4])}function Tr(t){for(;null!==t&&!jt(t);)t=t[4];return t}function Or(t){Ir(ue(),ae(),Ie()+t,fe())}function Ir(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&De(e,r,n)}else{const r=t.preOrderHooks;null!==r&&je(e,r,0,n)}Ce(n)}function Cr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ve(i),n.contentQueries(2,e[o],o)}}}function xr(t,e,n){return $t(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ar(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,re(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function kr(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=ce(),a=he(),u=a?s:s&&s.parent,c=t.data[n]=Vr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return le(a,!0),a}function Nr(t,e,n){we(e,e[6]);try{const r=t.viewQuery;null!==r&&ui(1,r,n);const i=t.template;null!==i&&Rr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cr(t,e),t.staticViewQueries&&ui(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ri(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Oe()}}function Dr(t,e,n,r){const i=e[2];if(256==(256&i))return;we(e,e[6]);const o=fe();try{re(e),oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Rr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&De(e,n,null)}else{const n=t.preOrderHooks;null!==n&&je(e,n,0,null),Re(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ie(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Er(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ee(n)&&Dr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Cr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&De(e,n)}else{const n=t.contentHooks;null!==n&&je(e,n,1),Re(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ce(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(me(r,i),s(2,e[i])),i++)}}}finally{Ce(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ni(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ui(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&De(e,n)}else{const n=t.viewHooks;null!==n&&je(e,n,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ie(e[3],-1))}finally{Oe()}}function jr(t,e,n,r){const i=e[10],o=!fe(),s=te(e);try{o&&!s&&i.begin&&i.begin(),s&&Nr(t,e,r),Dr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Rr(t,e,n,r,i){const o=Ie();try{Ce(-1),2&r&&e.length>20&&Ir(t,e,0,fe()),n(r,i)}finally{Ce(o)}}function Pr(t,e,n){se()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||tn(n,e),ar(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ft(r);o&&Zr(e,n,r);const u=ln(e,t,a,n);ar(u,e),null!==s&&Xr(0,a-i,u,r,0,s),o&&(Zt(n.index,e)[8]=u)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=oe.lFrame.currentDirectiveIndex;try{Ce(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ye(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Kr(r,i):s&&o.push(null)}}finally{Ce(-1),ye(u)}}(t,e,n))}function Lr(t,e,n=Jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Fr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mr(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:wr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Ur(t,e,n,r){const i=li(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Vr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Br(t,e,n,r,i,o,s,a){const u=Jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(fi(t,n,c,r,i),Pt(e)&&function(t,e){const n=Zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,$t(o)?o.setProperty(u,r,i):Ve(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Hr(t,e,n,r){let i=!1;if(se()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];gr(n,s.selectors,!1)&&(i||(i=[]),on(tn(n,e),t,s.type),Ft(s)?(2&n.flags&&ur(n),Qr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Jr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}$r(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=qe(n.mergedAttrs,c.hostAttrs),Yr(t,e,c),Wr(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),zr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||fr(e)?null:ti(n,i);o.push(c),s=qr(n,u,s),a=qr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Gr(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function zr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Gr(t,e,n){for(let r=0;r<n;r++)e.push(wr),t.blueprint.push(wr),t.data.push(null)}function Kr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function $r(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Qr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ft(e)&&(n[""]=t)}}function Jr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Yr(t,e,n){t.data.push(n);const r=n.factory||(n.factory=kt(n.type)),i=new Fe(r,Ft(n),null);t.blueprint.push(i),e.push(i)}function Zr(t,e,n){const r=Jt(e,t),i=Fr(n),o=t[10],s=ii(t,Ar(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Xr(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ti(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ei(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ni(t,e){const n=Zt(e,t);if(ee(n)){const t=n[1];80&n[2]?Dr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Sr(e);null!==r;r=Er(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Dr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Zt(n[r],e);ee(i)&&i[5]>0&&t(i)}}(n)}}function ri(t,e){const n=Zt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Nr(r,n,n[8])}function ii(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oi(t){for(;t;){t[2]|=64;const e=_r(t);if(Mt(t)&&!e)return t;t=e}return null}function si(t,e,n){const r=e[10];r.begin&&r.begin();try{Dr(t,e,t.template,n)}catch(i){throw hi(e,i),i}finally{r.end&&r.end()}}function ai(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Xt(n),i=r[1];jr(i,r,i.template,n)}}(t[8])}function ui(t,e,n){ve(0),e(t,n)}const ci=(()=>Promise.resolve(null))();function li(t){return t[7]||(t[7]=[])}function hi(t,e){const n=t[9],r=n?n.get(gn,null):null;r&&r.handleError(e)}function fi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function di(t,e,n){const r=function(t,e){return Wt(e[t+20])}(e,t),i=t[11];$t(i)?i.setValue(r,n):r.textContent=n}function pi(t,e){const n=e[3];return-1===t.index?jt(n)?n:null:n}function mi(t,e){const n=pi(t,e);return n?Ii(e[11],n[7]):null}function yi(t,e,n,r,i){if(null!=r){let o,s=!1;jt(r)?o=r:Dt(r)&&(s=!0,r=r[0]);const a=Wt(r);0===t&&null!==n?null==i?Ti(e,n,a):Ei(e,n,a,i||null):1===t&&null!==n?Ei(e,n,a,i||null):2===t?function(t,e,n){const r=Ii(t,e);r&&function(t,e,n,r){$t(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Wt(n)&&yi(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];ki(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function gi(t,e,n,r){const i=mi(t.node,e);i&&ki(t,e,e[11],n?1:2,i,r)}function vi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ie(e[3],-1),n.splice(r,1)}function bi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&vi(i,r),e>0&&(t[n-1][4]=r[4]);const o=pt(t,10+e);gi(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function wi(t,e){if(!(256&e[2])){const n=e[11];$t(n)&&n.destroyNode&&ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Si(t[1],t);for(;e;){let n=null;if(Dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Dt(e)&&Si(e[1],e),e=_i(e,t);null===e&&(e=t),Dt(e)&&Si(e[1],e),n=e&&e[4]}e=n}}(e)}}function _i(t,e){let n;return Dt(t)&&(n=t[6])&&2===n.type?pi(n,t):t[3]===e?null:t[3]}function Si(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Fe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Wt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&$t(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&jt(e[3])){r!==e[3]&&vi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ei(t,e,n,r){$t(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ti(t,e,n){$t(t)?t.appendChild(e,n):e.appendChild(n)}function Oi(t,e,n,r){null!==r?Ei(t,e,n,r):Ti(t,e,n)}function Ii(t,e){return $t(t)?t.parentNode(e):e.parentNode}function Ci(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?mi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Jt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==yt.ShadowDom&&n!==yt.Native)return null}return Jt(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=pi(t,e);return null===n?null:xi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Jt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Oi(t,i,n[e],o);else Oi(t,i,n,o)}}function xi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Jt(n,e);if(0===r)return xi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return jt(t)?xi(-1,t):Wt(t)}}{const r=e[16],i=r[6],o=_r(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Ai(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&ar(Wt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ai(t,e,n.child,r,i,o,!1),yi(e,t,i,a,o)):1===u?Ni(t,e,r,n,i,o):yi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function ki(t,e,n,r,i,o){Ai(n,r,t.node.child,e,i,o,!1)}function Ni(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)yi(e,t,i,a[u],o);else Ai(t,e,a,s[3],i,o,!0)}function Di(t,e,n){$t(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ji(t,e,n){$t(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ri{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Wt(s)),jt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=_r(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}wi(this._lView[1],this._lView)}onDestroy(t){Ur(this._lView[1],this._lView,null,t)}markForCheck(){oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){si(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){de(!0);try{si(t,e,n)}finally{de(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Pi extends Ri{constructor(t){super(t),this._view=t}detectChanges(){ai(this._view)}checkNoChanges(){!function(t){de(!0);try{ai(t)}finally{de(!1)}}(this._view)}get context(){return null}}let Li,Fi,Mi;function Ui(t,e,n){return Li||(Li=class extends t{}),new Li(Jt(e,n))}function Vi(t,e,n,r){return Fi||(Fi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ar(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Nr(e,n,t),new Ri(n)}}),0===n.type?new Fi(r,n,Ui(e,n,r)):null}function qi(t,e,n,r){let i;Mi||(Mi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ui(e,this._hostTNode,this._hostView)}get injector(){return new dn(this._hostTNode,this._hostView)}get parentInjector(){const t=rn(this._hostTNode,this._hostView),e=Ke(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ge(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return He(t)&&null!=n?new dn(n,e):new dn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(lt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),jt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Mi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],dt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),gi(r,n,!0,xi(i,this._lContainer)),t.attachToViewContainerRef(this),dt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=bi(this._lContainer,e);n&&(pt(this._lContainer[8],e),wi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=bi(this._lContainer,e);return n&&null!=pt(this._lContainer[8],e)?new Ri(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(jt(o))i=o;else{let t;if(4===n.type)t=Wt(o);else if(t=r[11].createComment(""),Mt(r)){const e=r[11],i=Jt(n,r);Ei(e,Ii(e,i),t,function(t,e){return $t(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ci(r[1],r,t,n);r[n.index]=i=ei(o,r,t,n),ii(r,i)}return new Mi(i,n,r)}function Bi(t=!1){return function(t,e,n){if(!n&&Pt(t)){const n=Zt(t.index,e);return new Ri(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ri(e[16],e):null}(ce(),ae(),t)}let Hi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zi(),t})();const zi=Bi,Gi=Function,Ki=new J("Set Injector scope."),$i={},Qi={},Wi=[];let Ji=void 0;function Yi(){return void 0===Ji&&(Ji=new ct),Ji}function Zi(t,e=null,n=null,r){return new Xi(t,n,e||Yi(),r)}class Xi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ft(e,n=>this.processProvider(n,t,e)),ft([t],t=>this.processInjectorType(t,[],i)),this.records.set(Y,eo(void 0,this));const o=this.records.get(Ki);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:j(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Z,n=_.Default){this.assertNotDestroyed();const r=rt(this);try{if(!(n&_.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof J)&&O(t);e=n&&this.injectableDefInScope(n)?eo(to(t),$i):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&_.Self?Yi():this.parent).get(t,e=n&_.Optional&&e===Z?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(j(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=j(e);if(Array.isArray(e))i=e.map(j).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):j(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(X,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{rt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(j(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ft(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ft(r,t=>this.processProvider(t,n,r||Wi))}}this.injectorDefTypes.add(o),this.records.set(o,eo(r.factory,$i));const a=r.providers;if(null!=a&&!s){const e=t;ft(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ro(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return no(t)?eo(void 0,t.useValue):eo(function(t,e,n){let r=void 0;if(ro(t)){const e=F(t);return kt(e)||to(e)}if(no(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ut(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>st(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${j(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return kt(i)||to(i);r=()=>new i(...ut(t.deps))}var i;return r}(t,e,n),$i)}(t,e,n);if(ro(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&cr()}else{let e=this.records.get(r);e?void 0===e.multi&&cr():(e=eo(void 0,$i,!0),e.factory=()=>ut(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Qi?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(j(t)):e.value===$i&&(e.value=Qi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function to(t){const e=O(t),n=null!==e?e.factory:kt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof J)throw new Error(`Token ${j(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${j(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[N]||t[k]&&t[k]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function no(t){return null!==t&&"object"==typeof t&&tt in t}function ro(t){return"function"==typeof t}const io=function(t,e,n){return function(t,e=null,n=null,r){const i=Zi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let oo=(()=>{class t{static create(t,e){return Array.isArray(t)?io(t,e,""):io(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Z,t.NULL=new ct,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>st(Y)}),t.__NG_ELEMENT_ID__=-1,t})();const so=new J("AnalyzeForEntryComponents");function ao(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=R(i,t):2==o&&(r=R(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let uo=null;function co(){if(!uo){const t=B.Symbol;if(t&&t.iterator)uo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(uo=n)}}}return uo}function lo(t){return!!ho(t)&&(Array.isArray(t)||!(t instanceof Map)&&co()in t)}function ho(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function po(t,e,n,r){const i=ae();return fo(i,pe(),e)&&(ue(),function(t,e,n,r,i,o){const s=Jt(t,e),a=e[11];if(null==r)$t(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?$e(r):i(r,t.tagName||"",n);$t(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(xe(),i,t,e,n,r)),po}function mo(t,e,n,r,i,o,s,a){const u=function(t,e,n,r,i){const o=function(t,e,n,r){const i=fo(t,e,n);return fo(t,e+1,r)||i}(t,e,n,r);return fo(t,e+2,i)||o}(t,oe.lFrame.bindingIndex,n,i,s);return function(t){const e=oe.lFrame;e.bindingIndex=e.bindingIndex+3}(),u?e+$e(n)+r+$e(i)+o+$e(s)+a:wr}function yo(t,e,n,r,i,o,s,a){const u=ae(),c=ue(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=kr(e,n[6],t,0,s||null,ne(c,a));Hr(e,n,l,ne(c,u)),Ne(e,l);const h=l.tViews=Mr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Vr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];le(h,!1);const f=u[11].createComment("");Ci(c,u,f,h),ar(f,u),ii(u,u[l]=ei(f,u,f,h)),Lt(h)&&Pr(c,u,h),null!=s&&Lr(u,h,a)}function go(t,e=_.Default){const n=ae();return null==n?st(t,e):sn(ce(),n,F(t),e)}function vo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ue(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ce(),t)}function bo(t,e,n){const r=ae();return fo(r,pe(),e)&&Br(ue(),xe(),r,t,e,r[11],n,!1),bo}function wo(t,e,n,r,i){const o=i?"class":"style";fi(t,n,e.inputs[o],o,r)}function _o(t,e,n,r){const i=ae(),o=ue(),s=20+t,a=i[11],u=i[s]=xr(e,a,oe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ne(a,o),c=kr(e,n[6],t,3,i,u);return Hr(e,n,c,ne(a,s)),null!==c.attrs&&ao(c,c.attrs,!1),null!==c.mergedAttrs&&ao(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];le(c,!0);const l=c.mergedAttrs;null!==l&&Me(a,u,l);const h=c.classes;null!==h&&ji(a,u,h);const f=c.styles;null!==f&&Di(a,u,f),Ci(o,i,u,c),0===oe.lFrame.elementDepthCount&&ar(u,i),oe.lFrame.elementDepthCount++,Lt(c)&&(Pr(o,i,c),function(t,e,n){if(Rt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Lr(i,c)}function So(){let t=ce();he()?oe.lFrame.isParent=!1:(t=t.parent,le(t,!1));const e=t;oe.lFrame.elementDepthCount--;const n=ue();n.firstCreatePass&&(Ne(n,t),Rt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&wo(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&wo(n,e,ae(),e.stylesWithoutHost,!1)}function Eo(t,e,n,r){_o(t,e,n,r),So()}function To(t){return!!t&&"function"==typeof t.then}function Oo(t){return!!t&&"function"==typeof t.subscribe}function Io(t,e,n=!1,r){const i=ae(),o=ue(),s=ce();return function(t,e,n,r,i,o,s=!1,a){const u=Lt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=li(e);let h=!0;if(3===r.type){const f=Jt(r,e),d=a?a(f):gt,p=d.target||f,m=l.length,y=a?t=>a(Wt(t[r.index])).target:r.index;if($t(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=xo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,m,m+1)}}else o=xo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,m,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Io}function Co(t,e,n){try{return!1!==e(n)}catch(r){return hi(t,r),!1}}function xo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Zt(t.index,e):e;0==(32&e[2])&&oi(s);let a=Co(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Co(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ao(t,e=""){const n=ae(),r=ue(),i=t+20,o=r.firstCreatePass?kr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return $t(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ci(r,n,s,o),le(o,!1)}function ko(t,e,n){const r=ae(),i=function(t,e,n,r){return fo(t,pe(),n)?e+$e(n)+r:wr}(r,t,e,n);return i!==wr&&di(r,Ie(),i),ko}function No(t,e,n,r,i,o,s){const a=ae(),u=mo(a,t,e,n,r,i,o,s);return u!==wr&&di(a,Ie(),u),No}function Do(t,e,n){const r=ae();return fo(r,pe(),e)&&Br(ue(),xe(),r,t,e,r[11],n,!0),Do}function jo(t,e){const n=Xt(t)[1],r=n.data.length-1;Ne(n,{directiveStart:r,directiveEnd:r+1})}class Ro{}class Po{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${j(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Lo=(()=>{class t{}return t.NULL=new Po,t})(),Fo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Mo(t),t})();const Mo=function(t){return Ui(t,ce(),ae())};class Uo{}var Vo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bo(),t})();const Bo=function(){const t=ae(),e=Zt(ce().index,t);return function(t){const e=t[11];if($t(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Dt(e)?e:t)};let Ho=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Go=new zo("10.0.14");class Ko{constructor(){}supports(t){return lo(t)}create(t){return new Qo(t)}}const $o=(t,e)=>e;class Qo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$o}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Zo(n,r,i)?e:n,s=Zo(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!lo(t))throw new Error(`Error trying to diff '${j(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Wo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Wo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Yo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Jo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xo{constructor(){}supports(t){return t instanceof Map||ho(t)}create(){return new ts}}class ts{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ho(t)))throw new Error(`Error trying to diff '${j(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new es(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class es{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ns=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Ko])}),t})(),rs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Xo])}),t})();const is=[new Xo],os=new ns([new Ko]),ss=new rs(is);let as=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>us(t,Fo),t})();const us=function(t,e){return Vi(t,e,ce(),ae())};let cs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ls(t,Fo),t})();const ls=function(t,e){return qi(t,e,ce(),ae())},hs={};class fs extends Lo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=At(t);return new ms(e,this.ngModule)}}function ds(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ps=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>We});class ms extends Ro{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(br).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ds(this.componentDef.inputs)}get outputs(){return ds(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,hs,i);return o!==hs||r===hs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Uo,Qt),s=i.get(Ho,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if($t(t))return t.selectRootElement(e,n===yt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:We,clean:ci,playerHandler:null,flags:0},f=Mr(0,-1,null,1,0,null,null,null,null,null),d=Ar(null,f,h,l,null,null,o,a,s,i);let p,m;we(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=kr(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ao(a,u,!0),null!==t&&(Me(i,t,u),null!==a.classes&&ji(i,t,a.classes),null!==a.styles&&Di(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ar(n,Fr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(on(tn(a,n),s,e.type),Qr(s,a),Jr(a,n.length,1)),ii(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Me(a,c,["ng-version",Go.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!mr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Me(a,c,t),e&&e.length>0&&ji(a,c,e.join(" "))}if(m=Yt(f,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ce();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$r(t,r,1),Yr(t,e,n));const i=ln(e,t,e.length-1,r);ar(i,e);const o=Jt(r,e);return o&&ar(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=ce();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ce(a.index-20);const t=n[1];zr(t,e),Gr(t,n,e.hostVars),Kr(e,s)}return s}(t,this.componentDef,d,h,[jo]),Nr(f,d,null)}finally{Oe()}const y=new ys(this.componentType,p,Ui(Fo,m,d),d,m);return f.node.child=m,y}}class ys extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Pi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Vr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const gs=void 0;var vs=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let bs={};function ws(t,e,n){"string"!=typeof e&&(n=e,e=t[Os.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),bs[e]=t,n&&(bs[e][Os.ExtraData]=n)}function _s(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ts(e);if(n)return n;const r=e.split("-")[0];if(n=Ts(r),n)return n;if("en"===r)return vs;throw new Error(`Missing locale data for the locale "${t}".`)}function Ss(t){return _s(t)[Os.CurrencyCode]||null}function Es(t){return _s(t)[Os.PluralCase]}function Ts(t){return t in bs||(bs[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),bs[t]}var Os=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Is="en-US";function Cs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Is=t.toLowerCase().replace(/_/g,"-"))}const xs=new Map;class As extends lt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fs(this);const n=Nt(t),r=t[$]||null;r&&Cs(r),this._bootstrapComponents=Je(n.bootstrap),this._r3Injector=Zi(t,e,[{provide:lt,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],j(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=oo.THROW_IF_NOT_FOUND,n=_.Default){return t===oo||t===lt||t===Y?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ks extends ht{constructor(t){super(),this.moduleType=t,null!==Nt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${j(e)} vs ${j(e.name)}`)})(t,xs.get(t),e),xs.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new As(this.moduleType,t)}}const Ns=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ds(){return this._results[co()]()}class js{constructor(){this.dirty=!0,this._results=[],this.changes=new Ns,this.length=0;const t=co(),e=js.prototype;e[t]||(e[t]=Ds)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Rs{constructor(t){this.queryList=t,this.matches=null}clone(){return new Rs(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ps{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ps(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Gs(t,e).matches&&this.queries[e].setDirty()}}class Ls{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Fs{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Fs(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ms{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ms(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Us(e,i)),this.matchTNodeWithReadOption(t,e,cn(e,t,i,!1,!1))}else n===as?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Fo||r===cs||r===as&&0===e.type)this.addMatch(e.index,-2);else{const n=cn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Us(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Vs(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Ui(Fo,t,e):0===t.type?Vi(as,Fo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Fo?Ui(Fo,e,t):n===as?Vi(as,Fo,e,t):n===cs?qi(cs,Fo,e,t):void 0}(t,e,r):ln(t,t[1],n,e)}function qs(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Vs(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Bs(t){const e=ae(),n=ue(),r=ge();ve(r+1);const i=Gs(n,r);if(t.dirty&&te(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=qs(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):qs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Hs(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Fs),t.queries.track(new Ms(e,n))}(t,new Ls(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new js;Ur(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ps),e[19].queries.push(new Rs(n))}(t,e)}(ue(),ae(),e,n,r,0,ce(),t)}function zs(){return t=ae(),e=ge(),t[19].queries[e].queryList;var t,e}function Gs(t,e){return t.queries.getByIndex(e)}function Ks(t=_.Default){const e=Bi(!0);if(null!=e||t&_.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const $s=new J("Application Initializer");let Qs=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();To(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(st($s,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ws=new J("AppId"),Js={provide:Ws,useFactory:function(){return`${Ys()}${Ys()}${Ys()}`},deps:[]};function Ys(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zs=new J("Platform Initializer"),Xs=new J("Platform ID"),ta=new J("appBootstrapListener");let ea=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const na=new J("LocaleId"),ra=new J("DefaultCurrencyCode");class ia{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const oa=function(t){return new ks(t)},sa=oa,aa=function(t){return Promise.resolve(oa(t))},ua=function(t){const e=oa(t),n=Je(Nt(t).declarations).reduce((t,e)=>{const n=At(e);return n&&t.push(new ms(n)),t},[]);return new ia(e,n)},ca=ua,la=function(t){return Promise.resolve(ua(t))};let ha=(()=>{class t{constructor(){this.compileModuleSync=sa,this.compileModuleAsync=aa,this.compileModuleAndAllComponentsSync=ca,this.compileModuleAndAllComponentsAsync=la}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const fa=(()=>Promise.resolve(0))();function da(t){"undefined"==typeof Zone?fa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,va(t),ga(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),va(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ba(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),wa(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ba(t),e.invoke(r,i,o,s,a)}finally{wa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,va(t),ga(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ya,ma,ma);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ma(){}const ya={};function ga(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function va(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ba(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wa(t){t._nesting--,ga(t)}class _a{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Sa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),da(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())da(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(st(pa))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Ea=(()=>{class t{constructor(){this._applications=new Map,Ca.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ca.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Ta{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Oa(t){Ca=t}let Ia,Ca=new Ta;const xa=new J("AllowMultipleToken");class Aa{constructor(t,e){this.name=t,this.token=e}}function ka(t,e,n=[]){const r="Platform: "+e,i=new J(r);return(e=[])=>{let o=Na();if(!o||o.injector.get(xa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ki,useValue:"platform"});!function(t){if(Ia&&!Ia.destroyed&&!Ia.injector.get(xa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ia=t.get(Da);const e=t.get(Zs,null);e&&e.forEach(t=>t())}(oo.create({providers:t,name:r}))}return function(t){const e=Na();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Na(){return Ia&&!Ia.destroyed?Ia:null}let Da=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _a:("zone.js"===t?void 0:t)||new pa({enableLongStackTrace:Rn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:pa,useValue:n}];return n.run(()=>{const e=oo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(gn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Pa(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return To(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Qs);return t.runInitializers(),t.donePromise.then(()=>(Cs(i.injector.get(na,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ja({},e);return function(t,e,n){const r=new ks(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ra);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${j(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(st(oo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ja(t,e){return Array.isArray(e)?e.reduce(ja,t):Object.assign(Object.assign({},t),e)}let Ra=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Rn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),da(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ro?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(lt),i=n.create(oo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Sa,null);return o&&i.injector.get(Ea).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Rn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Pa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ta,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Pa(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(st(pa),st(ea),st(oo),st(gn),st(Lo),st(Qs))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Pa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class La{}class Fa{}const Ma={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ua=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ma}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Va(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Va(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(st(ha),st(Fa,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Va(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const qa=function(t){return null},Ba=ka(null,"core",[{provide:Xs,useValue:"unknown"},{provide:Da,deps:[oo]},{provide:Ea,deps:[]},{provide:ea,deps:[]}]),Ha=[{provide:Ra,useClass:Ra,deps:[pa,ea,oo,gn,Lo,Qs]},{provide:ps,deps:[pa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Qs,useClass:Qs,deps:[[new v,$s]]},{provide:ha,useClass:ha,deps:[]},Js,{provide:ns,useFactory:function(){return os},deps:[]},{provide:rs,useFactory:function(){return ss},deps:[]},{provide:na,useFactory:function(t){return Cs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new g(na),new v,new w]]},{provide:ra,useValue:"USD"}];let za=(()=>{class t{constructor(t){}}return t.\u0275mod=Tt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(st(Ra))},providers:Ha}),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.6.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return I})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return h})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return g}));var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function y(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function O(){}function I(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return S}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("8Y7J"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),g=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.T)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Cb({type:t}),t.\u0275inj=u.Bb({factory:function(e){return new(e||t)(u.Jb(u.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class m extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var b=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");let i=null;function o(){return i}const s=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Jb)(l)}const c=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=Object(r.Ab)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Jb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:g,token:t,providedIn:"root"}),t})();function g(t){const e=Object(r.Jb)(s).location;return new b(Object(r.Jb)(a),e&&e.origin||"")}const v=new r.q("appBaseHref");let b=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(v,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(v,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(y),r.Jb(a))},t.normalizeQueryParams=m,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ab)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new _(Object(r.Jb)(y),Object(r.Jb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),I=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),C=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function A(t,e){return P(Object(r.hb)(t)[r.Y.DateFormat],e)}function k(t,e){return P(Object(r.hb)(t)[r.Y.TimeFormat],e)}function N(t,e){return P(Object(r.hb)(t)[r.Y.DateTimeFormat],e)}function D(t,e){const n=Object(r.hb)(t),i=n[r.Y.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.Y.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.Y.NumberSymbols][x.Group]}return i}const j=r.kb;function R(t){if(!t[r.Y.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Y.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function P(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function L(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,M={},U=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var V=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),B=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function z(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function G(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return u=e,z(a,3).substr(0,u);var u;const c=D(s,x.MinusSign);return z(a,e,c,r,i)}}function K(t,e,n=O.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case B.Months:return function(t,e,n){const i=Object(r.hb)(t),o=P([i[r.Y.MonthsFormat],i[r.Y.MonthsStandalone]],e);return P(o,n)}(e,o,i)[t.getMonth()];case B.Days:return function(t,e,n){const i=Object(r.hb)(t),o=P([i[r.Y.DaysFormat],i[r.Y.DaysStandalone]],e);return P(o,n)}(e,o,i)[t.getDay()];case B.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.hb)(t);return R(e),(e[r.Y.ExtraData][2]||[]).map(t=>"string"==typeof t?L(t):[L(t[0]),L(t[1])])}(e),n=function(t,e,n){const i=Object(r.hb)(t);R(i);const o=P([i[r.Y.ExtraData][0],i[r.Y.ExtraData][1]],e)||[];return P(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.hb)(t),o=P([i[r.Y.DayPeriodsFormat],i[r.Y.DayPeriodsStandalone]],e);return P(o,n)}(e,o,i)[a<12?0:1];case B.Eras:return function(t,e){return P(Object(r.hb)(t)[r.Y.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function $(t){return function(e,n,r){const i=-1*r,o=D(n,x.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case V.Short:return(i>=0?"+":"")+z(s,2,o)+z(Math.abs(i%60),2,o);case V.ShortGMT:return"GMT"+(i>=0?"+":"")+z(s,1,o);case V.Long:return"GMT"+(i>=0?"+":"")+z(s,2,o)+":"+z(Math.abs(i%60),2,o);case V.Extended:return 0===r?"Z":(i>=0?"+":"")+z(s,2,o)+":"+z(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Q(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return z(i,t,D(r,x.MinusSign))}}const W={};function J(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Y(t){return t instanceof Date&&!isNaN(t.valueOf())}class Z{}let X=(()=>{class t extends Z{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function tt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class et{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new et(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new rt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new rt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K),r.Eb(r.s))},t.\u0275dir=r.zb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class rt{constructor(t,e){this.record=t,this.view=e}}let it=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ot,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){st("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){st("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K))},t.\u0275dir=r.zb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ot{constructor(){this.$implicit=null,this.ngIf=null}}function st(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.sb)(e)}'.`)}let at=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let o=function(t){if(Y(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(F))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!Y(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.hb)(t)[r.Y.LocaleId]}(e);if(M[i]=M[i]||{},M[i][n])return M[i][n];let o="";switch(n){case"shortDate":o=A(e,C.Short);break;case"mediumDate":o=A(e,C.Medium);break;case"longDate":o=A(e,C.Long);break;case"fullDate":o=A(e,C.Full);break;case"shortTime":o=k(e,C.Short);break;case"mediumTime":o=k(e,C.Medium);break;case"longTime":o=k(e,C.Long);break;case"fullTime":o=k(e,C.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=H(N(e,C.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=H(N(e,C.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");o=H(N(e,C.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");o=H(N(e,C.Full),[c,l])}return o&&(M[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=U.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let u=o.getTimezoneOffset();i&&(u=J(i,u),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(J(e,r)-r))}(o,i));let c="";return a.forEach(t=>{const e=function(t){if(W[t])return W[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(B.Eras,I.Abbreviated);break;case"GGGG":e=K(B.Eras,I.Wide);break;case"GGGGG":e=K(B.Eras,I.Narrow);break;case"y":e=G(q.FullYear,1,0,!1,!0);break;case"yy":e=G(q.FullYear,2,0,!0,!0);break;case"yyy":e=G(q.FullYear,3,0,!1,!0);break;case"yyyy":e=G(q.FullYear,4,0,!1,!0);break;case"M":case"L":e=G(q.Month,1,1);break;case"MM":case"LL":e=G(q.Month,2,1);break;case"MMM":e=K(B.Months,I.Abbreviated);break;case"MMMM":e=K(B.Months,I.Wide);break;case"MMMMM":e=K(B.Months,I.Narrow);break;case"LLL":e=K(B.Months,I.Abbreviated,O.Standalone);break;case"LLLL":e=K(B.Months,I.Wide,O.Standalone);break;case"LLLLL":e=K(B.Months,I.Narrow,O.Standalone);break;case"w":e=Q(1);break;case"ww":e=Q(2);break;case"W":e=Q(1,!0);break;case"d":e=G(q.Date,1);break;case"dd":e=G(q.Date,2);break;case"E":case"EE":case"EEE":e=K(B.Days,I.Abbreviated);break;case"EEEE":e=K(B.Days,I.Wide);break;case"EEEEE":e=K(B.Days,I.Narrow);break;case"EEEEEE":e=K(B.Days,I.Short);break;case"a":case"aa":case"aaa":e=K(B.DayPeriods,I.Abbreviated);break;case"aaaa":e=K(B.DayPeriods,I.Wide);break;case"aaaaa":e=K(B.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=K(B.DayPeriods,I.Abbreviated,O.Standalone,!0);break;case"bbbb":e=K(B.DayPeriods,I.Wide,O.Standalone,!0);break;case"bbbbb":e=K(B.DayPeriods,I.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(B.DayPeriods,I.Abbreviated,O.Format,!0);break;case"BBBB":e=K(B.DayPeriods,I.Wide,O.Format,!0);break;case"BBBBB":e=K(B.DayPeriods,I.Narrow,O.Format,!0);break;case"h":e=G(q.Hours,1,-12);break;case"hh":e=G(q.Hours,2,-12);break;case"H":e=G(q.Hours,1);break;case"HH":e=G(q.Hours,2);break;case"m":e=G(q.Minutes,1);break;case"mm":e=G(q.Minutes,2);break;case"s":e=G(q.Seconds,1);break;case"ss":e=G(q.Seconds,2);break;case"S":e=G(q.FractionalSeconds,1);break;case"SS":e=G(q.FractionalSeconds,2);break;case"SSS":e=G(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$(V.Short);break;case"ZZZZZ":e=$(V.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$(V.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$(V.Long);break;default:return null}return W[t]=e,e}(t);c+=e?e(o,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.sb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.u))},t.\u0275pipe=r.Db({name:"date",type:t,pure:!0}),t})(),ut=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[{provide:Z,useClass:X}]}),t})(),ct=(()=>{class t{}return t.\u0275prov=Object(r.Ab)({token:t,providedIn:"root",factory:()=>new lt(Object(r.Jb)(s),window,Object(r.Jb)(r.m))}),t})();class lt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=ht(this.window.history)||ht(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function ht(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ft extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ft,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=pt||(pt=document.querySelector("base"),pt)?pt.getAttribute("href"):null;return null==e?null:(n=e,dt||(dt=document.createElement("a")),dt.setAttribute("href",n),"/"===dt.pathname.charAt(0)?dt.pathname:"/"+dt.pathname);var n}resetBaseElement(){pt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return tt(document.cookie,t)}}let dt,pt=null;const mt=new r.q("TRANSITION_ID"),yt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[mt,s,r.r],multi:!0}];class gt{static init(){Object(r.V)(new gt)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const vt=new r.q("EventManagerPlugins");let bt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(vt),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class wt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let _t=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),St=(()=>{class t extends _t{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function Ot(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ot(t,i,n):(i=i.replace(Tt,t),n.push(i))}return n}function It(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ct=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new xt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new At(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ot(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(bt),r.Jb(St),r.Jb(r.c))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class xt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,It(n)):this.eventManager.addEventListener(t,e,It(n))}}class At extends xt{constructor(t,e,n,r){super(t),this.component=n;const i=Ot(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Tt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Tt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class kt extends xt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ot(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Nt=(()=>{class t extends wt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Dt=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lt=(()=>{class t extends wt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Dt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Rt.hasOwnProperty(e)&&(e=Rt[e]))}return jt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Dt.forEach(r=>{r!=n&&(0,Pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Ft=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){ft.makeCurrent(),gt.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],Mt=Object(r.R)(r.U,"browser",Ft),Ut=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:vt,useClass:Nt,multi:!0,deps:[s,r.z,r.B]},{provide:vt,useClass:Lt,multi:!0,deps:[s]},[],{provide:Ct,useClass:Ct,deps:[bt,St,r.c]},{provide:r.E,useExisting:Ct},{provide:_t,useExisting:St},{provide:St,useClass:St,deps:[s]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:bt,useClass:bt,deps:[vt,r.z]},[]];let Vt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:mt,useExisting:r.c},yt]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(t,12))},providers:Ut,imports:[ut,r.f]}),t})();"undefined"!=typeof window&&window;var qt=n("LRne"),Bt=n("HDdC"),Ht=n("5+tZ");function zt(t,e){return Object(Ht.a)(t,e,1)}var Gt=n("7o/Q");function Kt(t,e){return function(n){return n.lift(new $t(t,e))}}class $t{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qt(t,this.predicate,this.thisArg))}}class Qt extends Gt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Wt=n("lJxs");class Jt{}class Yt{}class Zt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Xt{encodeKey(t){return te(t)}encodeValue(t){return te(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function te(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ee{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Xt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ee({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function ne(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function re(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ie(t){return"undefined"!=typeof FormData&&t instanceof FormData}class oe{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Zt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ee,this.urlWithParams=e}serializeBody(){return null===this.body?null:ne(this.body)||re(this.body)||ie(this.body)||"string"==typeof this.body?this.body:this.body instanceof ee?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ie(this.body)?null:re(this.body)?this.body.type||null:ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ee?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new oe(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var se=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ae{constructor(t,e=200,n="OK"){this.headers=t.headers||new Zt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends ae{constructor(t={}){super(t),this.type=se.ResponseHeader}clone(t={}){return new ue({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ce extends ae{constructor(t={}){super(t),this.type=se.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ce({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class le extends ae{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function he(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let fe=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof oe)r=t;else{let i=void 0;i=n.headers instanceof Zt?n.headers:new Zt(n.headers);let o=void 0;n.params&&(o=n.params instanceof ee?n.params:new ee({fromObject:n.params})),r=new oe(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(qt.a)(r).pipe(zt(t=>this.handler.handle(t)));if(t instanceof oe||"events"===n.observe)return i;const o=i.pipe(Kt(t=>t instanceof ce));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Wt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Wt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Wt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Wt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ee).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,he(n,e))}post(t,e,n={}){return this.request("POST",t,he(n,e))}put(t,e,n={}){return this.request("PUT",t,he(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Jt))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class de{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const pe=new r.q("HTTP_INTERCEPTORS");let me=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const ye=/^\)\]\}',?\n/;class ge{}let ve=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),be=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Bt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Zt(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ue({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(ye,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new ce({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new le({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new le({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:se.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:se.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:se.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ge))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const we=new r.q("XSRF_COOKIE_NAME"),_e=new r.q("XSRF_HEADER_NAME");class Se{}let Ee=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=tt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s),r.Jb(r.B),r.Jb(we))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Te=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Se),r.Jb(_e))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Oe=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(pe,[]);this.chain=t.reduceRight((t,e)=>new de(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Yt),r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Ie=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Te,useClass:me}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:we,useValue:e.cookieName}:[],e.headerName?{provide:_e,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[Te,{provide:pe,useExisting:Te,multi:!0},{provide:Se,useClass:Ee},{provide:we,useValue:"XSRF-TOKEN"},{provide:_e,useValue:"X-XSRF-TOKEN"}]}),t})(),Ce=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[fe,{provide:Jt,useClass:Oe},be,{provide:Yt,useExisting:be},ve,{provide:ge,useExisting:ve}],imports:[[Ie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var xe=n("Cfvw"),Ae=n("XNiG"),ke=n("9ppp");class Ne extends Ae.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ke.a;return this._value}next(t){super.next(this._value=t)}}const De=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var je=n("z+Ro"),Re=n("DH7j"),Pe=n("l7GE"),Le=n("ZUHj"),Fe=n("yCtX");const Me={};class Ue{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ve(t,this.resultSelector))}}class Ve extends Pe.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Me),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Le.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Me?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var qe=n("EY2u");function Be(t){return new Bt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(xe.a)(n):Object(qe.b)()).subscribe(e)})}var He=n("bHdf");function ze(){return Object(He.a)(1)}const Ge=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ke(t){return function(e){return 0===t?Object(qe.b)():e.lift(new $e(t))}}class $e{constructor(t){if(this.total=t,this.total<0)throw new Ge}call(t,e){return e.subscribe(new Qe(t,this.total))}}class Qe extends Gt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function We(t=Ze){return e=>e.lift(new Je(t))}class Je{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ye(t,this.errorFactory))}}class Ye extends Gt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Cb){t=Cb}this.destination.error(t)}}}function Ze(){return new De}function Xe(t=null){return e=>e.lift(new tn(t))}class tn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new en(t,this.defaultValue))}}class en extends Gt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nn=n("SpAZ"),rn=n("51Dv");function on(t){return function(e){const n=new sn(t),r=e.lift(n);return n.caught=r}}class sn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new an(t,this.selector,this.caught))}}class an extends Pe.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new rn.a(this,void 0,void 0);this.add(r);const i=Object(Le.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function un(t){return e=>0===t?Object(qe.b)():e.lift(new cn(t))}class cn{constructor(t){if(this.total=t,this.total<0)throw new Ge}call(t,e){return e.subscribe(new ln(t,this.total))}}class ln extends Gt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function hn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kt((e,n)=>t(e,n,r)):nn.a,un(1),n?Xe(e):We(()=>new De))}var fn=n("vkgz");class dn{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new pn(t,this.predicate,this.thisArg,this.source))}}class pn extends Gt.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function mn(t,e){return"function"==typeof e?n=>n.pipe(mn((n,r)=>Object(xe.a)(t(n,r)).pipe(Object(Wt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new yn(t))}class yn{constructor(t){this.project=t}call(t,e){return e.subscribe(new gn(t,this.project))}}class gn extends Pe.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new rn.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Le.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function vn(...t){return ze()(Object(qt.a)(...t))}function bn(...t){const e=t[t.length-1];return Object(je.a)(e)?(t.pop(),n=>vn(t,n,e)):e=>vn(t,e)}function wn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _n(t,e,n))}}class _n{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Sn(t,this.accumulator,this.seed,this.hasSeed))}}class Sn extends Gt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var En=n("quSY");class Tn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new On(t,this.callback))}}class On extends Gt.a{constructor(t,e){super(t),this.add(new En.a(e))}}class In{constructor(t,e){this.id=t,this.url=e}}class Cn extends In{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends In{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class An extends In{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kn extends In{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nn extends In{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends In{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn extends In{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rn extends In{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends In{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zn(t){return new Hn(t)}function Gn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Kn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $n(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qn(t[i],e[i]))return!1;return!0}function Qn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Wn(t){return Array.prototype.concat.apply([],t)}function Jn(t){return t.length>0?t[t.length-1]:null}function Yn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zn(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(xe.a)(Promise.resolve(t)):Object(qt.a)(t)}function Xn(t,e,n){return n?function(t,e){return $n(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!rr(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!rr(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!rr(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!rr(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class tr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zn(this.queryParams)),this._queryParamMap}toString(){return ar.serialize(this)}}class er{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ur(this)}}class nr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zn(this.parameters)),this._parameterMap}toString(){return pr(this)}}function rr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ir(t,e){let n=[];return Yn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Yn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class or{}class sr{parse(t){const e=new br(t);return new tr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return ur(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Yn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ir(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${ur(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${lr(e)}=${lr(t)}`).join("&"):`${lr(e)}=${lr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ar=new sr;function ur(t){return t.segments.map(t=>pr(t)).join("/")}function cr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(t){return cr(t).replace(/%3B/gi,";")}function hr(t){return cr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fr(t){return decodeURIComponent(t)}function dr(t){return fr(t.replace(/\+/g,"%20"))}function pr(t){return`${hr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hr(t)}=${hr(e[t])}`).join("")}`;var e}const mr=/^[^\/()?;=#]+/;function yr(t){const e=t.match(mr);return e?e[0]:""}const gr=/^[^=?&#]+/,vr=/^[^?&#]+/;class br{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new er([],{}):new er([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new er(t,e)),n}parseSegment(){const t=yr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new nr(fr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=yr(this.remaining);t&&(n=t,this.capture(n))}t[fr(e)]=fr(n)}parseQueryParam(t){const e=function(t){const e=t.match(gr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=dr(e),i=dr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=yr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new er([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class wr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_r(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=_r(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Sr(t,this._root).map(t=>t.value)}}function _r(t,e){if(t===e.value)return e;for(const n of e.children){const e=_r(t,n);if(e)return e}return null}function Sr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Sr(t,n);if(r.length)return r.unshift(e),r}return[]}class Er{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Or extends wr{constructor(t,e){super(t),this.snapshot=e,Nr(this,t)}toString(){return this.snapshot.toString()}}function Ir(t,e){const n=function(t,e){const n=new Ar([],{},{},"",{},"primary",e,null,t.root,-1,{});return new kr("",new Er(n,[]))}(t,e),r=new Ne([new nr("",{})]),i=new Ne({}),o=new Ne({}),s=new Ne({}),a=new Ne(""),u=new Cr(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Or(new Er(u,[]),n)}class Cr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Wt.a)(t=>zn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Wt.a)(t=>zn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ar{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kr extends wr{constructor(t,e){super(e),this.url=t,Nr(this,e)}toString(){return Dr(this._root)}}function Nr(t,e){e.value._routerState=t,e.children.forEach(e=>Nr(t,e))}function Dr(t){const e=t.children.length>0?` { ${t.children.map(Dr).join(", ")} } `:"";return`${t.value}${e}`}function jr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$n(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$n(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$n(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$n(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rr(t,e){return $n(t.params,e.params)&&function(t,e){return rr(t,e)&&t.every((t,n)=>$n(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rr(t.parent,e.parent))}function Pr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lr(t,e,n,r,i){let o={};return r&&Yn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new tr(n.root===t?e:function t(e,n,r){const i={};return Yn(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new er(e.segments,i)}(n.root,t,e),o,i)}class Fr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Pr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Jn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ur(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Vr(t,e,n){if(t||(t=new er([],{})),0===t.segments.length&&t.hasChildren())return qr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Ur(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Gr(s,a,e))return o;r+=2}else{if(!Gr(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new er(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new er(t.segments.slice(r.pathIndex),t.children),qr(e,0,i)}return r.match&&0===i.length?new er(t.segments,{}):r.match&&!t.hasChildren()?Br(t,e,n):r.match?qr(t,0,i):Br(t,e,n)}function qr(t,e,n){if(0===n.length)return new er(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Yn(r,(n,r)=>{null!==n&&(i[r]=Vr(t.children[r],e,n))}),Yn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new er(t.segments,i)}}function Br(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Hr(n[i].outlets);return new er(r,t)}if(0===i&&Pr(n[0])){r.push(new nr(t.segments[e].path,n[0])),i++;continue}const o=Ur(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Pr(s)?(r.push(new nr(o,zr(s))),i+=2):(r.push(new nr(o,{})),i++)}return new er(r,{})}function Hr(t){const e={};return Yn(t,(t,n)=>{null!==t&&(e[n]=Br(new er([],{}),0,t))}),e}function zr(t){const e={};return Yn(t,(t,n)=>e[n]=""+t),e}function Gr(t,e,n){return t==n.path&&$n(e,n.parameters)}class Kr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Tr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Yn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Tr(t),i=t.value.component?n.children:e;Yn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Tr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new qn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Un(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(jr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$r(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $r(t){jr(t.value),t.children.forEach($r)}class Qr{constructor(t,e){this.routes=t,this.module=e}}function Wr(t){return"function"==typeof t}function Jr(t){return t instanceof tr}class Yr{constructor(t){this.segmentGroup=t||null}}class Zr{constructor(t){this.urlTree=t}}function Xr(t){return new Bt.a(e=>e.error(new Yr(t)))}function ti(t){return new Bt.a(e=>e.error(new Zr(t)))}function ei(t){return new Bt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ni{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Wt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(on(t=>{if(t instanceof Zr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Yr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Wt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(on(t=>{if(t instanceof Yr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new er([],{primary:t}):t;return new tr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Wt.a)(t=>new er([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(qt.a)({});const n=[],r=[],i={};return Yn(t,(t,o)=>{const s=e(o,t).pipe(Object(Wt.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),qt.a.apply(null,n.concat(r)).pipe(ze(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kt((e,n)=>t(e,n,r)):nn.a,Ke(1),n?Xe(e):We(()=>new De))}(),Object(Wt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(qt.a)(...n).pipe(Object(Wt.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(on(t=>{if(t instanceof Yr)return Object(qt.a)(null);throw t}))),ze(),hn(t=>!!t),on((t,n)=>{if(t instanceof De||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(qt.a)(new er([],{}));throw new Yr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return si(r)!==o?Xr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Xr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ti(i):this.lineralizeSegments(n,i).pipe(Object(Ht.a)(n=>{const i=new er(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ri(e,r,i);if(!s)return Xr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ti(l):this.lineralizeSegments(r,l).pipe(Object(Ht.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Wt.a)(t=>(n._loadedConfig=t,new er(r,{})))):Object(qt.a)(new er(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=ri(e,n,r);if(!i)return Xr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Ht.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>oi(t,e,n)&&"primary"!==si(n))}(t,n,r)?{segmentGroup:ii(new er(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==si(r)&&(n[si(r)]=new er([],{}));return n}(r,new er(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>oi(t,e,n))}(t,n,r)?{segmentGroup:ii(new er(t.segments,function(t,e,n,r){const i={};for(const o of n)oi(t,e,o)&&!r[si(o)]&&(i[si(o)]=new er([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Wt.a)(t=>new er(o,t))):0===r.length&&0===s.length?Object(qt.a)(new er(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Wt.a)(t=>new er(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(qt.a)(new Qr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(qt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ht.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Wt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Bt.a(e=>e.error(Gn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(qt.a)(new Qr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(xe.a)(r).pipe(Object(Wt.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Wr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Wr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zn(o)})).pipe(ze(),Object(fn.a)(t=>{if(!Jr(t))return;const e=Gn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new dn(i,void 0,t)))):Object(qt.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(qt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ei(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new tr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Yn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Yn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new er(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ri(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Kn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ii(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new er(t.segments.concat(e.segments),e.children)}return t}function oi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function si(t){return t.outlet||"primary"}class ai{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ui{constructor(t,e){this.component=t,this.route=e}}function ci(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tr(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rr(t.url,e.url)||!$n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(t,e)||!$n(t.queryParams,e.queryParams);case"paramsChange":default:return!Rr(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ai(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new ui(u&&u.outlet&&u.outlet.component||null,a))}else a&&hi(n,u,o),o.canActivateChecks.push(new ai(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Yn(s,(t,e)=>hi(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function li(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function hi(t,e,n){const r=Tr(t),i=t.value;Yn(r,(t,r)=>{hi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ui(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const fi=Symbol("INITIAL_VALUE");function di(){return mn(t=>function(...t){let e=null,n=null;return Object(je.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Re.a)(t[0])&&(t=t[0]),Object(Fe.a)(t,n).lift(new Ue(e))}(...t.map(t=>t.pipe(un(1),bn(fi)))).pipe(wn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==fi)return t;if(r===fi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Jr(r))return r}return t},t)},fi),Kt(t=>t!==fi),Object(Wt.a)(t=>Jr(t)?t:!0===t),un(1)))}function pi(t,e){return null!==t&&e&&e(new Vn(t)),Object(qt.a)(!0)}function mi(t,e){return null!==t&&e&&e(new Mn(t)),Object(qt.a)(!0)}function yi(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(qt.a)(!0);const i=r.map(r=>Be(()=>{const i=li(r,e,n);let o;if(function(t){return t&&Wr(t.canActivate)}(i))o=Zn(i.canActivate(e,t));else{if(!Wr(i))throw new Error("Invalid CanActivate guard");o=Zn(i(e,t))}return o.pipe(hn())}));return Object(qt.a)(i).pipe(di())}function gi(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Be(()=>{const i=e.guards.map(i=>{const o=li(i,e.node,n);let s;if(function(t){return t&&Wr(t.canActivateChild)}(o))s=Zn(o.canActivateChild(r,t));else{if(!Wr(o))throw new Error("Invalid CanActivateChild guard");s=Zn(o(r,t))}return s.pipe(hn())});return Object(qt.a)(i).pipe(di())}));return Object(qt.a)(i).pipe(di())}class vi{}class bi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Si(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ar([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Er(n,e),i=new kr(this.url,r);return this.inheritParamsAndData(i._root),Object(qt.a)(i)}catch(Cb){return new Bt.a(e=>e.error(Cb))}}inheritParamsAndData(t){const e=t.value,n=xr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ir(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Cb){if(!(Cb instanceof vi))throw Cb}if(this.noLeftoversInUrl(e,n,r))return[];throw new vi}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new vi;if((t.outlet||"primary")!==r)throw new vi;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Jn(n).parameters:{};i=new Ar(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oi(t),r,t.component,t,wi(e),_i(e)+n.length,Ii(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new vi;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Kn)(n,t,e);if(!r)throw new vi;const i={};Yn(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Ar(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oi(t),r,t.component,t,wi(e),_i(e)+o.length,Ii(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Si(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Er(i,t)]}if(0===a.length&&0===c.length)return[new Er(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Er(i,l)]}}function wi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _i(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Si(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ei(t,e,n)&&"primary"!==Ti(n))}(t,n,r)){const i=new er(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Ti(o)){const n=new er([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ti(o)]=n}return i}(t,e,r,new er(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ei(t,e,n))}(t,n,r)){const o=new er(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ei(t,n,a)&&!i[Ti(a)]){const n=new er([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ti(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new er(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ei(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ti(t){return t.outlet||"primary"}function Oi(t){return t.data||{}}function Ii(t){return t.resolve||{}}function Ci(t){return function(e){return e.pipe(mn(e=>{const n=t(e);return n?Object(xe.a)(n).pipe(Object(Wt.a)(()=>e)):Object(xe.a)([e])}))}}class xi{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Ai=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Fb(0,"router-outlet")},directives:function(){return[Hi]},encapsulation:2}),t})();function ki(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ni(r,Di(e,r))}}function Ni(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ki(t.children,e)}function Di(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ji(t){const e=t.children&&t.children.map(ji),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ai),n}const Ri=new r.q("ROUTES");class Pi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Wt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Qr(Wn(r.injector.get(Ri)).map(ji),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(xe.a)(this.loader.load(t)):Zn(t()).pipe(Object(Ht.a)(t=>t instanceof r.v?Object(qt.a)(t):Object(xe.a)(this.compiler.compileModuleAsync(t))))}}class Li{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fi,this.attachRef=null}}class Fi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Li,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mi{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ui(t){throw t}function Vi(t,e,n){return e.parse("/")}function qi(t,e){return Object(qt.a)(null)}let Bi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ae.a,this.errorHandler=Ui,this.malformedUriErrorHandler=Vi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qi,afterPreactivation:qi},this.urlHandlingStrategy=new Mi,this.routeReuseStrategy=new xi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.W);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new tr(new er([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pi(s,a,t=>this.triggerEvent(new Ln(t)),t=>this.triggerEvent(new Fn(t))),this.routerState=Ir(this.currentUrlTree,this.rootComponentType),this.transitions=new Ne({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Kt(t=>0!==t.id),Object(Wt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),mn(t=>{let n=!1,r=!1;return Object(qt.a)(t).pipe(Object(fn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(qt.a)(t).pipe(mn(t=>{const n=this.transitions.getValue();return e.next(new Cn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qe.a:[t]}),mn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(mn(t=>function(t,e,n,r,i){return new ni(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Wt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(fn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Ht.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new bi(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Wt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(fn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(fn.a)(t=>{const n=new Nn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Cn(n,this.serializeUrl(r),i,o);e.next(a);const u=Ir(r,this.rootComponentType).snapshot;return Object(qt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qe.a}),Ci(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(fn.a)(t=>{const e=new Dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Wt.a)(t=>Object.assign(Object.assign({},t),{guards:ci(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Ht.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(qt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(xe.a)(t).pipe(Object(Ht.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(qt.a)(!0);const s=o.map(o=>{const s=li(o,e,i);let a;if(function(t){return t&&Wr(t.canDeactivate)}(s))a=Zn(s.canDeactivate(t,e,n,r));else{if(!Wr(s))throw new Error("Invalid CanDeactivate guard");a=Zn(s(t,e,n,r))}return a.pipe(hn())});return Object(qt.a)(s).pipe(di())}(t.component,t.route,n,e,r)),hn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Ht.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(xe.a)(e).pipe(zt(e=>Object(xe.a)([mi(e.route.parent,r),pi(e.route,r),gi(t,e.path,n),yi(t,e.route,n)]).pipe(ze(),hn(t=>!0!==t,!0))),hn(t=>!0!==t,!0))}(r,o,t,e):Object(qt.a)(n)),Object(Wt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(fn.a)(t=>{if(Jr(t.guardsResult)){const e=Gn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(fn.a)(t=>{const e=new jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Kt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new An(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ci(t=>{if(t.guards.canActivateChecks.length)return Object(qt.a)(t).pipe(Object(fn.a)(t=>{const e=new Rn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),mn(t=>{let n=!1;return Object(qt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Ht.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(qt.a)(t);let o=0;return Object(xe.a)(n).pipe(zt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(qt.a)({});const o={};return Object(xe.a)(i).pipe(Object(Ht.a)(i=>function(t,e,n,r){const i=li(t,e,r);return Zn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(fn.a)(t=>{o[i]=t}))),Ke(1),Object(Ht.a)(()=>Object.keys(o).length===i.length?Object(qt.a)(o):qe.a))}(t._resolve,t,e,r).pipe(Object(Wt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),xr(t,n).resolve),null)))}(t.route,e,r,i)),Object(fn.a)(()=>o++),Ke(1),Object(Ht.a)(e=>o===n.length?Object(qt.a)(t):qe.a))}))}),Object(fn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new An(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(fn.a)(t=>{const e=new Pn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ci(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Wt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Er(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Cr(new Ne((i=n.value).url),new Ne(i.params),new Ne(i.queryParams),new Ne(i.fragment),new Ne(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Er(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Or(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(fn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Wt.a)(t=>(new Kr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(fn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new An(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Tn(i))),on(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new An(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new kn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(th){t.reject(th)}}var i;return qe.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ki(t),this.config=t.map(ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.T)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Lr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Fr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Yn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Fr(n,e,r)}(n);if(o.toRoot())return Lr(e.root,new er([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Mr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Mr(t,t===e.root,0)}const r=Pr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Mr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?qr(s.segmentGroup,s.index,o.commands):Vr(s.segmentGroup,s.index,o.commands);return Lr(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Jr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Cb){e=this.malformedUriErrorHandler(Cb,this.urlSerializer,t)}return e}isActive(t,e){if(Jr(t))return Xn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new xn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.M),r.Jb(or),r.Jb(Fi),r.Jb(_),r.Jb(r.r),r.Jb(r.w),r.Jb(r.i),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Hi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Fi),r.Eb(r.P),r.Eb(r.j),r.Kb("name"),r.Eb(r.h))},t.\u0275dir=r.zb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class zi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Cr?this.route:t===Fi?this.childContexts:this.parent.get(t,e)}}class Gi{}class Ki{preload(t,e){return Object(qt.a)(null)}}let $i=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Pi(e,n,e=>t.triggerEvent(new Ln(e)),e=>t.triggerEvent(new Fn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kt(t=>t instanceof xn),zt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(xe.a)(n).pipe(Object(He.a)(),Object(Wt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Ht.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Bi),r.Jb(r.w),r.Jb(r.i),r.Jb(r.r),r.Jb(Gi))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Qi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Bn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Bi),r.Jb(ct),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Wi=new r.q("ROUTER_CONFIGURATION"),Ji=new r.q("ROUTER_FORROOT_GUARD"),Yi=[_,{provide:or,useClass:sr},{provide:Bi,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Bi(null,t,e,n,r,i,s,Wn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[or,Fi,_,r.r,r.w,r.i,Ri,Wi,[class{},new r.A],[class{},new r.A]]},Fi,{provide:Cr,useFactory:function(t){return t.routerState.root},deps:[Bi]},{provide:r.w,useClass:r.J},$i,Ki,class{preload(t,e){return e().pipe(on(()=>Object(qt.a)(null)))}},{provide:Wi,useValue:{enableTracing:!1}}];function Zi(){return new r.y("Router",Bi)}let Xi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Yi,ro(e),{provide:Ji,useFactory:no,deps:[[Bi,new r.A,new r.I]]},{provide:Wi,useValue:n||{}},{provide:y,useFactory:eo,deps:[a,[new r.p(v),new r.A],Wi]},{provide:Qi,useFactory:to,deps:[Bi,ct,Wi]},{provide:Gi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ki},{provide:r.y,multi:!0,useFactory:Zi},[io,{provide:r.d,multi:!0,useFactory:oo,deps:[io]},{provide:ao,useFactory:so,deps:[io]},{provide:r.b,multi:!0,useExisting:ao}]]}}static forChild(e){return{ngModule:t,providers:[ro(e)]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(Ji,8),r.Jb(Bi,8))}}),t})();function to(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Qi(t,e,n)}function eo(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function no(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ro(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ri,multi:!0,useValue:t}]}let io=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ae.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Bi),r=this.injector.get(Wi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(qt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Wi),n=this.injector.get($i),i=this.injector.get(Qi),o=this.injector.get(Bi),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function oo(t){return t.appInitializer.bind(t)}function so(t){return t.bootstrapListener.bind(t)}const ao=new r.q("Router Initializer"),uo=[];let co=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[Xi.forRoot(uo)],Xi]}),t})(),lo=(()=>{class t{constructor(t,e){this.http=t,this.datePipe=e,this.baseUrl="https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?",this.date=new Date,this.dateString=this.datePipe.transform(this.date,"dd-MM-yyyy")}findVaccineChittorgarh(t){const e={params:new ee({fromString:"district_id=521&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccinePratapgarh(t){const e={params:new ee({fromString:"district_id=522&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccineUdaipur(t){const e={params:new ee({fromString:"district_id=504&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccineBhilwara(t){const e={params:new ee({fromString:"district_id=523&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccineMandsaur(t){const e={params:new ee({fromString:"district_id=319&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccineNeemuch(t){const e={params:new ee({fromString:"district_id=323&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccineRatlam(t){const e={params:new ee({fromString:"district_id=322&date="+this.dateString})};return this.http.get(this.baseUrl,e)}findVaccineUjjain(t){const e={params:new ee({fromString:"district_id=318&date="+this.dateString})};return this.http.get(this.baseUrl,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(fe),r.Jb(at))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ho=n("D0XW");function fo(){return t=>t.lift(new po)}class po{call(t,e){return e.subscribe(new mo(t))}}class mo extends Gt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class yo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new go(t,this.compare,this.keySelector))}}class go extends Gt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var vo=n("pxpQ"),bo=n("spgP"),wo=n("Jgta"),_o=n("zIRd"),So=n("qOnz"),Eo=n("q/0M"),To=function(t,e){return(To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Oo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Io,Co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xo=xo||{},Ao=Co||self;function ko(){}function No(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Do(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var jo="closure_uid_"+(1e9*Math.random()>>>0),Ro=0;function Po(t,e,n){return t.call.apply(t.bind,arguments)}function Lo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Fo(t,e,n){return(Fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Po:Lo).apply(null,arguments)}function Mo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Uo(){return Date.now()}function Vo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function qo(){this.j=this.j,this.i=this.i}qo.prototype.j=!1,qo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,jo)&&t[jo]||(t[jo]=++Ro)}(this)},qo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ho=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function zo(t){return Array.prototype.concat.apply([],arguments)}function Go(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ko(t){return/^[\s\xa0]*$/.test(t)}var $o,Qo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wo(t,e){return-1!=t.indexOf(e)}function Jo(t,e){return t<e?-1:t>e?1:0}t:{var Yo=Ao.navigator;if(Yo){var Zo=Yo.userAgent;if(Zo){$o=Zo;break t}}$o=""}function Xo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ts(t){var e={};for(var n in t)e[n]=t[n];return e}var es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ns(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<es.length;o++)n=es[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rs(t){return rs[" "](t),t}rs[" "]=ko;var is,os,ss=Wo($o,"Opera"),as=Wo($o,"Trident")||Wo($o,"MSIE"),us=Wo($o,"Edge"),cs=us||as,ls=Wo($o,"Gecko")&&!(Wo($o.toLowerCase(),"webkit")&&!Wo($o,"Edge"))&&!(Wo($o,"Trident")||Wo($o,"MSIE"))&&!Wo($o,"Edge"),hs=Wo($o.toLowerCase(),"webkit")&&!Wo($o,"Edge");function fs(){var t=Ao.document;return t?t.documentMode:void 0}t:{var ds="",ps=(os=$o,ls?/rv:([^\);]+)(\)|;)/.exec(os):us?/Edge\/([\d\.]+)/.exec(os):as?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(os):hs?/WebKit\/(\S+)/.exec(os):ss?/(?:Version)[ \/]?(\S+)/.exec(os):void 0);if(ps&&(ds=ps?ps[1]:""),as){var ms=fs();if(null!=ms&&ms>parseFloat(ds)){is=String(ms);break t}}is=ds}var ys={};function gs(t){return function(t,e){var n=ys;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Qo(String(is)).split("."),r=Qo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Jo(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Jo(0==s[2].length,0==a[2].length)||Jo(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var vs=Ao.document&&as&&(fs()||parseInt(is,10))||void 0,bs=!as||9<=Number(vs),ws=as&&!gs("9"),_s=function(){if(!Ao.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ao.addEventListener("test",ko,e),Ao.removeEventListener("test",ko,e)}catch(n){}return t}();function Ss(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Es(t,e){if(Ss.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ls){t:{try{rs(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ts[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ss.prototype.b=function(){this.defaultPrevented=!0},Vo(Es,Ss);var Ts={2:"touch",3:"pen",4:"mouse"};Es.prototype.b=function(){Es.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ws)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Os="closure_listenable_"+(1e6*Math.random()|0),Is=0;function Cs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Is,this.Y=this.Z=!1}function xs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function As(t){this.src=t,this.a={},this.b=0}function ks(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Bo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ns(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}As.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ns(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Cs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ds="closure_lm_"+(1e6*Math.random()|0),js={};function Rs(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Bs(r),e&&e[Os]?e.wa(n,r,Do(i)?!!i.capture:!!i,o):Ps(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rs(t,e[o],n,r,i);return null}return n=Bs(n),t&&t[Os]?t.va(e,n,Do(r)?!!r.capture:!!r,i):Ps(t,e,n,!1,r,i)}function Ps(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Do(i)?!!i.capture:!!i;if(s&&!bs)return null;var a=Vs(t);if(a||(t[Ds]=a=new As(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Us,e=bs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_s||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ls(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Os])ks(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vs(e))?(ks(n,t),0==n.b&&(n.src=null,e[Ds]=null)):xs(t)}}}function Fs(t){return t in js?js[t]:js[t]="on"+t}function Ms(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ls(t),n.call(r,e)}function Us(t,e){if(t.Y)return!0;if(!bs){if(!e)t:{e=["window","event"];for(var n=Ao,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ms(t,e=new Es(e,this))}return Ms(t,new Es(e,this))}function Vs(t){return(t=t[Ds])instanceof As?t:null}var qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(t){return"function"==typeof t?t:(t[qs]||(t[qs]=function(e){return t.handleEvent(e)}),t[qs])}function Hs(){qo.call(this),this.c=new As(this),this.J=this,this.C=null}function zs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ss(e,t);else if(e instanceof Ss)e.target=e.target||t;else{var i=e;ns(e=new Ss(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Gs(s,r,!0,e)&&i}if(i=Gs(s=e.a=t,r,!0,e)&&i,i=Gs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Gs(s=e.a=n[o],r,!1,e)&&i}function Gs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ks(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vo(Hs,qo),Hs.prototype[Os]=!0,(Io=Hs.prototype).addEventListener=function(t,e,n,r){Rs(this,t,e,n,r)},Io.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Do(i)?!!i.capture:!!i,r=Bs(r),e&&e[Os]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Ns(s=e.a[n],r,i,o))&&(xs(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Vs(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Ns(n,r,i,o)),(r=-1<e?n[e]:null)&&Ls(r))}(this,t,e,n,r)},Io.G=function(){if(Hs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)xs(n[r]);delete e.a[t],e.b--}}this.C=null},Io.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Io.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ks=Ao.JSON.stringify;function $s(){this.b=this.a=null}var Qs,Ws=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ys}),(function(t){t.reset()}));function Js(){var t=ea,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ys(){this.next=this.b=this.a=null}function Zs(t){Ao.setTimeout((function(){throw t}),0)}function Xs(t,e){Qs||function(){var t=Ao.Promise.resolve(void 0);Qs=function(){t.then(na)}}(),ta||(Qs(),ta=!0),ea.add(t,e)}$s.prototype.add=function(t,e){var n=Ws.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ys.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ys.prototype.reset=function(){this.next=this.b=this.a=null};var ta=!1,ea=new $s;function na(){for(var t;t=Js();){try{t.a.call(t.b)}catch(n){Zs(n)}var e=Ws;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ta=!1}function ra(t,e){Hs.call(this),this.b=t||1,this.a=e||Ao,this.f=Fo(this.Za,this),this.g=Uo()}function ia(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function oa(t,e,n){if("function"==typeof t)n&&(t=Fo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Fo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ao.setTimeout(t,e||0)}function sa(t){t.a=oa((function(){t.a=null,t.c&&(t.c=!1,sa(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Vo(ra,Hs),(Io=ra.prototype).aa=!1,Io.M=null,Io.Za=function(){if(this.aa){var t=Uo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),zs(this,"tick"),this.aa&&(ia(this),this.start()))}},Io.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Uo())},Io.G=function(){ra.X.G.call(this),ia(this),delete this.a};var aa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}To(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:sa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ao.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(qo);function ua(t){qo.call(this),this.b=t,this.a={}}Vo(ua,qo);var ca=[];function la(t,e,n,r){Array.isArray(n)||(n&&(ca[0]=n.toString()),n=ca);for(var i=0;i<n.length;i++){var o=Rs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ha(t){Xo(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ls(t)}),t),t.a={}}function fa(){this.a=!0}function da(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ks(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ua.prototype.G=function(){ua.X.G.call(this),ha(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fa.prototype.info=function(){};var pa={},ma=null;function ya(){return ma=ma||new Hs}function ga(t){Ss.call(this,pa.Fa,t)}function va(t){var e=ya();zs(e,new ga(e,t))}function ba(t,e){Ss.call(this,pa.STAT_EVENT,t),this.stat=e}function wa(t){var e=ya();zs(e,new ba(e,t))}function _a(t){Ss.call(this,pa.Ga,t)}function Sa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ao.setTimeout((function(){t()}),e)}pa.Fa="serverreachability",Vo(ga,Ss),pa.STAT_EVENT="statevent",Vo(ba,Ss),pa.Ga="timingevent",Vo(_a,Ss);var Ea={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ta={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Oa(){}function Ia(){}Oa.prototype.a=null;var Ca,xa={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Aa(){Ss.call(this,"d")}function ka(){Ss.call(this,"c")}function Na(){}function Da(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ua(this),this.P=ja,this.R=new ra(t=cs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Vo(Aa,Ss),Vo(ka,Ss),Vo(Na,Oa),Ca=new Na;var ja=45e3,Ra={},Pa={};function La(t,e,n){t.H=1,t.i=iu(Za(e)),t.j=n,t.I=!0,Fa(t,null)}function Fa(t,e){t.u=Uo(),Va(t),t.l=Za(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),gu(n.b,"t",r),t.D=0,t.a=hc(t.g,t.g.C?e:null),0<t.O&&(t.F=new aa(Fo(t.Ca,t,t.a),t.O)),la(t.J,t.a,"readystatechange",t.Xa),e=t.B?ts(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),va(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ma(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ua(t,n);if(i==Pa){4==e&&(t.h=4,wa(14),r=!1),da(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ra){t.h=4,wa(15),da(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}da(t.c,t.f,i,null),Ga(t,i)}4==e&&0==n.length&&(t.h=1,wa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rc(e),e.F=!0,wa(11))):(da(t.c,t.f,n,"[Invalid Chunked Response]"),za(t),Ha(t))}function Ua(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Pa:(n=Number(e.substring(n,r)),isNaN(n)?Ra:(r+=1)+n>e.length?Pa:(e=e.substr(r,n),t.D=r+n,e))}function Va(t){t.T=Uo()+t.P,qa(t,t.P)}function qa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Sa(Fo(t.Va,t),e)}function Ba(t){t.o&&(Ao.clearTimeout(t.o),t.o=null)}function Ha(t){0==t.g.v||t.A||sc(t.g,t)}function za(t){Ba(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ia(t.R),ha(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ga(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Tu(n.b,t)))if(n.I=t.N,!t.C&&Tu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(zv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;oc(n),Qu(n)}nc(n),wa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Sa(Fo(n.Sa,n),6e3));if(1>=Eu(n.b)&&n.ea){try{n.ea()}catch(zv){}n.ea=void 0}}else uc(n,11)}else if((t.C||n.a==t)&&oc(n),!Ko(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Wo(l,"spdy")||Wo(l,"quic")||Wo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ou(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ru(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Uo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=lc(u,u.C?u.ga:null,u.fa),d.C){Iu(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Ba(p),Va(p)),u.a=d}else ec(u);0<n.g.length&&Yu(n)}else"stop"!=i[0]&&"close"!=i[0]||uc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?uc(n,7):$u(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);va(4)}catch(zv){}}function Ka(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(No(t)||"string"==typeof t)Ho(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(No(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(No(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $a(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $a)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Qa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Wa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Wa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Io=Da.prototype).setTimeout=function(t){this.P=t},Io.Xa=function(t){t=t.target;var e=this.F;e&&3==Hu(t)?e.f():this.Ca(t)},Io.Ca=function(t){try{if(t==this.a)t:{var e=Hu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!cs&&!this.a.$())){this.A||4!=e||7==n||va(8==n||0>=r?3:2),Ba(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ko(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,wa(12),za(this),Ha(this);break t}da(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ga(this,u)}this.I?(Ma(this,e,o),cs&&this.b&&3==e&&(la(this.J,this.R,"tick",this.Wa),this.R.start())):(da(this.c,this.f,o,null),Ga(this,o)),4==e&&za(this),this.b&&!this.A&&(4==e?sc(this.g,this):(this.b=!1,Va(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,wa(12)):(this.h=0,wa(13)),za(this),Ha(this)}}}catch(c){}},Io.Wa=function(){if(this.a){var t=Hu(this.a),e=this.a.$();this.D<e.length&&(Ba(this),Ma(this,t,e),this.b&&4!=t&&Va(this))}},Io.cancel=function(){this.A=!0,za(this)},Io.Va=function(){this.o=null;var t=Uo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(va(3),wa(17)),za(this),this.h=2,Ha(this)):qa(this,this.T-t)},(Io=$a.prototype).K=function(){Qa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Io.L=function(){return Qa(this),this.a.concat()},Io.get=function(t,e){return Wa(this.b,t)?this.b[t]:e},Io.set=function(t,e){Wa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Io.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ja=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ya(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ya){this.a=void 0!==e?e:t.a,Xa(this,t.f),this.j=t.j,tu(this,t.c),eu(this,t.h),this.g=t.g,e=t.b;var n=new du;n.c=e.c,e.a&&(n.a=new $a(e.a),n.b=e.b),nu(this,n),this.i=t.i}else t&&(n=String(t).match(Ja))?(this.a=!!e,Xa(this,n[1]||"",!0),this.j=ou(n[2]||""),tu(this,n[3]||"",!0),eu(this,n[4]),this.g=ou(n[5]||"",!0),nu(this,n[6]||"",!0),this.i=ou(n[7]||"")):(this.a=!!e,this.b=new du(null,this.a))}function Za(t){return new Ya(t)}function Xa(t,e,n){t.f=n?ou(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function tu(t,e,n){t.c=n?ou(e,!0):e}function eu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nu(t,e,n){e instanceof du?(t.b=e,function(t,e){e&&!t.f&&(pu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(mu(this,e),gu(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=su(e,hu)),t.b=new du(e,t.a))}function ru(t,e,n){t.b.set(e,n)}function iu(t){return ru(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Uo()).toString(36)),t}function ou(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function su(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,au),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function au(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ya.prototype.toString=function(){var t=[],e=this.f;e&&t.push(su(e,uu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(su(e,uu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(su(n,"/"==n.charAt(0)?lu:cu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",su(n,fu)),t.join("")};var uu=/[#\/\?@]/g,cu=/[#\?:]/g,lu=/[#\?]/g,hu=/[#\?@]/g,fu=/#/g;function du(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pu(t){t.a||(t.a=new $a,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function mu(t,e){pu(t),e=vu(t,e),Wa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Wa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Qa(t)))}function yu(t,e){return pu(t),e=vu(t,e),Wa(t.a.b,e)}function gu(t,e,n){mu(t,e),0<n.length&&(t.c=null,t.a.set(vu(t,e),Go(n)),t.b+=n.length)}function vu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Io=du.prototype).add=function(t,e){pu(this),this.c=null,t=vu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Io.forEach=function(t,e){pu(this),this.a.forEach((function(n,r){Ho(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Io.L=function(){pu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Io.K=function(t){pu(this);var e=[];if("string"==typeof t)yu(this,t)&&(e=zo(e,this.a.get(vu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=zo(e,t[n])}return e},Io.set=function(t,e){return pu(this),this.c=null,yu(this,t=vu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Io.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Io.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var bu=function(){return function(t,e){this.b=t,this.a=e}}();function wu(t){this.g=t||_u,t=Ao.PerformanceNavigationTiming?0<(t=Ao.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ao.ia&&Ao.ia.ya&&Ao.ia.ya()&&Ao.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _u=10;function Su(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Eu(t){return t.b?1:t.a?t.a.size:0}function Tu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ou(t,e){t.a?t.a.add(e):t.b=e}function Iu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Cu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Oo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Go(t.c)}function xu(){}function Au(){this.a=new xu}function ku(t,e,n){var r=n||"";try{Ka(t,(function(t,n){var i=t;Do(t)&&(i=Ks(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Cb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Cb}}function Nu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}wu.prototype.cancel=function(){var t,e;if(this.c=Cu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Oo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},xu.prototype.stringify=function(t){return Ao.JSON.stringify(t,void 0)},xu.prototype.parse=function(t){return Ao.JSON.parse(t,void 0)};var Du=Ao.JSON.parse;function ju(t){Hs.call(this),this.headers=new $a,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ru,this.D=this.F=!1}Vo(ju,Hs);var Ru="",Pu=/^https?$/i,Lu=["POST","PUT"];function Fu(t){return"content-type"==t.toLowerCase()}function Mu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Uu(t),qu(t)}function Uu(t){t.u||(t.u=!0,zs(t,"complete"),zs(t,"error"))}function Vu(t){if(t.b&&void 0!==xo&&(!t.s[1]||4!=Hu(t)||2!=t.W()))if(t.l&&4==Hu(t))oa(t.za,0,t);else if(zs(t,"readystatechange"),4==Hu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ja)[1]||null;if(!o&&Ao.self&&Ao.self.location){var s=Ao.self.location.protocol;o=s.substr(0,s.length-1)}i=!Pu.test(o?o.toLowerCase():"")}e=i}if(e)zs(t,"complete"),zs(t,"success");else{t.h=6;try{var a=2<Hu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Uu(t)}}finally{qu(t)}}}function qu(t,e){if(t.a){Bu(t);var n=t.a,r=t.s[0]?ko:null;t.a=null,t.s=null,e||zs(t,"ready");try{n.onreadystatechange=r}catch(Cb){}}}function Bu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ao.clearTimeout(t.m),t.m=null)}function Hu(t){return t.a?t.a.readyState:0}function zu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Xo(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ru(t,e,n))}function Gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ku(t){this.pa=0,this.g=[],this.c=new fa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Gu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Gu("baseRetryDelayMs",5e3,t),this.Ra=Gu("retryDelaySeedMs",1e4,t),this.Ma=Gu("forwardChannelMaxRetries",2,t),this.ma=Gu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new wu(t&&t.concurrentRequestLimit),this.ka=new Au,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $u(t){if(Wu(t),3==t.v){var e=t.R++,n=Za(t.B);ru(n,"SID",t.J),ru(n,"RID",e),ru(n,"TYPE","terminate"),Xu(t,n),(e=new Da(t,t.c,e,void 0)).H=2,e.i=iu(Za(n)),n=!1,Ao.navigator&&Ao.navigator.sendBeacon&&(n=Ao.navigator.sendBeacon(e.i.toString(),"")),!n&&Ao.Image&&((new Image).src=e.i,n=!0),n||(e.a=hc(e.g,null),e.a.ba(e.i)),e.u=Uo(),Va(e)}cc(t)}function Qu(t){t.a&&(rc(t),t.a.cancel(),t.a=null)}function Wu(t){Qu(t),t.j&&(Ao.clearTimeout(t.j),t.j=null),oc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ao.clearTimeout(t.h),t.h=null)}function Ju(t,e){t.g.push(new bu(t.Oa++,e)),3==t.v&&Yu(t)}function Yu(t){Su(t.b)||t.h||(t.h=!0,Xs(t.Ba,t),t.u=0)}function Zu(t,e){var n;n=e?e.f:t.R++;var r=Za(t.B);ru(r,"SID",t.J),ru(r,"RID",n),ru(r,"AID",t.P),Xu(t,r),t.i&&t.l&&zu(r,t.i,t.l),n=new Da(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=tc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ou(t.b,n),La(n,r,e)}function Xu(t,e){t.f&&Ka({},(function(t,n){ru(e,n,t)}))}function tc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Fo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ku(l,s,"req"+c+"_")}catch(Bc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ec(t){t.a||t.j||(t.T=1,Xs(t.Aa,t),t.o=0)}function nc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Sa(Fo(t.Aa,t),ac(t,t.o)),t.o++,0))}function rc(t){null!=t.s&&(Ao.clearTimeout(t.s),t.s=null)}function ic(t){t.a=new Da(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Za(t.la);ru(e,"RID","rpc"),ru(e,"SID",t.J),ru(e,"CI",t.H?"0":"1"),ru(e,"AID",t.P),Xu(t,e),ru(e,"TYPE","xmlhttp"),t.i&&t.l&&zu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=iu(Za(e)),n.j=null,n.I=!0,Fa(n,t)}function oc(t){null!=t.m&&(Ao.clearTimeout(t.m),t.m=null)}function sc(t,e){var n=null;if(t.a==e){oc(t),rc(t),t.a=null;var r=2}else{if(!Tu(t.b,e))return;n=e.s,Iu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Uo()-e.u;var i=t.u;zs(r=ya(),new _a(r,n,e,i)),Yu(t)}else ec(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Eu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Sa(Fo(t.Ba,t,e),ac(t,t.u)),t.u++,0)))}(t,e)||2==r&&nc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:uc(t,5);break;case 4:uc(t,10);break;case 3:uc(t,6);break;default:uc(t,2)}}function ac(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function uc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Fo(t.Ya,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),Ao.location&&"http"==Ao.location.protocol||Xa(n,"https"),iu(n)),function(t,e){var n=new fa;if(Ao.Image){var r=new Image;r.onload=Mo(Nu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mo(Nu,n,r,"TestLoadImage: error",!1,e),r.onabort=Mo(Nu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mo(Nu,n,r,"TestLoadImage: timeout",!1,e),Ao.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else wa(2);t.v=0,t.f&&t.f.ra(e),cc(t),Wu(t)}function cc(t){t.v=0,t.I=-1,t.f&&(0==Cu(t.b).length&&0==t.g.length||(t.b.c.length=0,Go(t.g),t.g.length=0),t.f.qa())}function lc(t,e,n){var r=function(t){return t instanceof Ya?Za(t):new Ya(t,void 0)}(n);if(""!=r.c)e&&tu(r,e+"."+r.c),eu(r,r.h);else{var i=Ao.location;r=function(t,e,n,r){var i=new Ya(null,void 0);return t&&Xa(i,t),e&&tu(i,e),n&&eu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Xo(t.V,(function(t,e){ru(r,e,t)})),n=t.na,(e=t.A)&&n&&ru(r,e,n),ru(r,"VER",t.ha),Xu(t,r),r}function hc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ju(t.Na)).F=t.C,e}function fc(){}function dc(){if(as&&!(10<=Number(vs)))throw Error("Environmental error: no available transport.")}function pc(t,e){Hs.call(this),this.a=new Ku(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ko(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ko(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new gc(this)}function mc(t){Aa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function yc(){ka.call(this),this.status=1}function gc(t){this.a=t}(Io=ju.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ca),this.a.onreadystatechange=Fo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Mu(this,o)}t=n||"";var i=new $a(this.headers);r&&Ka(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Fu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ao.FormData&&t instanceof Ao.FormData,!(0<=Bo(Lu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bu(this),0<this.o&&((this.D=function(t){return as&&gs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Fo(this.xa,this)):this.m=oa(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Mu(this,o)}},Io.xa=function(){void 0!==xo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,zs(this,"timeout"),this.abort(8))},Io.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,zs(this,"complete"),zs(this,"abort"),qu(this))},Io.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qu(this,!0)),ju.X.G.call(this)},Io.za=function(){this.j||(this.A||this.l||this.g?Vu(this):this.Ua())},Io.Ua=function(){Vu(this)},Io.W=function(){try{return 2<Hu(this)?this.a.status:-1}catch(os){return-1}},Io.$=function(){try{return this.a?this.a.responseText:""}catch(os){return""}},Io.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Du(e)}},Io.ua=function(){return this.h},Io.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Io=Ku.prototype).ha=8,Io.v=1,Io.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Da(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ns(r=ts(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=tc(this,n,e),ru(i=Za(this.B),"RID",t),ru(i,"CVER",22),this.A&&ru(i,"X-HTTP-Session-Id",this.A),Xu(this,i),this.i&&r&&zu(i,this.i,r),Ou(this.b,n),this.Ia&&ru(i,"TYPE","init"),this.da?(ru(i,"$req",e),ru(i,"SID","null"),n.U=!0,La(n,i,null)):La(n,i,e),this.v=2}}else 3==this.v&&(t?Zu(this,t):0==this.g.length||Su(this.b)||Zu(this))},Io.Aa=function(){if(this.j=null,ic(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Sa(Fo(this.Ta,this),t)}},Io.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,wa(10),Qu(this),ic(this))},Io.Sa=function(){null!=this.m&&(this.m=null,Qu(this),nc(this),wa(19))},Io.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),wa(2)):(this.c.info("Failed to ping google.com"),wa(1))},(Io=fc.prototype).ta=function(){},Io.sa=function(){},Io.ra=function(){},Io.qa=function(){},Io.Ja=function(){},dc.prototype.a=function(t,e){return new pc(t,e)},Vo(pc,Hs),pc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;wa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=lc(t,null,t.fa),Yu(t)},pc.prototype.close=function(){$u(this.a)},pc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ju(this.a,e)}else this.l?((e={}).__data__=Ks(t),Ju(this.a,e)):Ju(this.a,t)},pc.prototype.G=function(){this.a.f=null,delete this.f,$u(this.a),delete this.a,pc.X.G.call(this)},Vo(mc,Aa),Vo(yc,ka),Vo(gc,fc),gc.prototype.ta=function(){zs(this.a,"a")},gc.prototype.sa=function(t){zs(this.a,new mc(t))},gc.prototype.ra=function(t){zs(this.a,new yc(t))},gc.prototype.qa=function(){zs(this.a,"b")},dc.prototype.createWebChannel=dc.prototype.a,pc.prototype.send=pc.prototype.h,pc.prototype.open=pc.prototype.g,pc.prototype.close=pc.prototype.close,Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Ta.COMPLETE="complete",Ia.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",Hs.prototype.listen=Hs.prototype.va,ju.prototype.listenOnce=ju.prototype.wa,ju.prototype.getLastError=ju.prototype.Qa,ju.prototype.getLastErrorCode=ju.prototype.ua,ju.prototype.getStatus=ju.prototype.W,ju.prototype.getResponseJson=ju.prototype.Pa,ju.prototype.getResponseText=ju.prototype.$,ju.prototype.send=ju.prototype.ba;var vc=Ea,bc=Ta,wc=pa,_c=Ia,Sc=ju,Ec=n("mrSG"),Tc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Tc.o=-1;var Oc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ic=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ec.c)(e,t),e}(Error),Cc=new Eo.b("@firebase/firestore");function xc(){return Cc.logLevel}function Ac(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc.logLevel<=Eo.a.DEBUG){var r=e.map(Dc);Cc.debug.apply(Cc,Object(Ec.f)(["Firestore (8.5.0): "+t],r))}}function kc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc.logLevel<=Eo.a.ERROR){var r=e.map(Dc);Cc.error.apply(Cc,Object(Ec.f)(["Firestore (8.5.0): "+t],r))}}function Nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc.logLevel<=Eo.a.WARN){var r=e.map(Dc);Cc.warn.apply(Cc,Object(Ec.f)(["Firestore (8.5.0): "+t],r))}}function Dc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Cb){return t}}function jc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw kc(e),new Error(e)}function Rc(t,e){t||jc()}function Pc(t,e){return t}function Lc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Lc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Mc(t,e){return t<e?-1:t>e?1:0}function Uc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Vc(t){return t+"\0"}var qc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ic(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ic(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ic(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ic(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Mc(this.nanoseconds,t.nanoseconds):Mc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Bc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new qc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Hc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Kc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&jc(),void 0===n?n=t.length-e:n>t.length-e&&jc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Kc),Qc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Qc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ic(Oc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ic(Oc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ic(Oc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Kc),Jc=function(){function t(t){this.fields=t,t.sort(Wc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Uc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Yc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Mc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Yc.EMPTY_BYTE_STRING=new Yc("");var Zc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xc(t){if(Rc(!!t),"string"==typeof t){var e=0,n=Zc.exec(t);if(Rc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:tl(t.seconds),nanos:tl(t.nanos)}}function tl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function el(t){return"string"==typeof t?Yc.fromBase64String(t):Yc.fromUint8Array(t)}function nl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rl(t){var e=Xc(t.mapValue.fields.__local_write_time__.timestampValue);return new qc(e.seconds,e.nanos)}function il(t){return null==t}function ol(t){return 0===t&&1/t==-1/0}function sl(t){return"number"==typeof t&&Number.isInteger(t)&&!ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var al=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t($c.fromString(e))},t.fromName=function(e){return new t($c.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$c.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return $c.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new $c(e.slice()))},t}();function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nl(t)?4:10:jc()}function cl(t,e){var n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xc(t.timestampValue),r=Xc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return el(t.bytesValue).isEqual(el(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return tl(t.geoPointValue.latitude)===tl(e.geoPointValue.latitude)&&tl(t.geoPointValue.longitude)===tl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return tl(t.integerValue)===tl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=tl(t.doubleValue),r=tl(e.doubleValue);return n===r?ol(n)===ol(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Uc(t.arrayValue.values||[],e.arrayValue.values||[],cl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Hc(n)!==Hc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cl(n[i],r[i])))return!1;return!0}(t,e);default:return jc()}}function ll(t,e){return void 0!==(t.values||[]).find((function(t){return cl(t,e)}))}function hl(t,e){var n=ul(t),r=ul(e);if(n!==r)return Mc(n,r);switch(n){case 0:return 0;case 1:return Mc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=tl(t.integerValue||t.doubleValue),r=tl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fl(t.timestampValue,e.timestampValue);case 4:return fl(rl(t),rl(e));case 5:return Mc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=el(t),r=el(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mc(n[i],r[i]);if(0!==o)return o}return Mc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mc(tl(t.latitude),tl(e.latitude));return 0!==n?n:Mc(tl(t.longitude),tl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hl(n[i],r[i]);if(o)return o}return Mc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Mc(r[s],o[s]);if(0!==a)return a;var u=hl(n[r[s]],i[o[s]]);if(0!==u)return u}return Mc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw jc()}}function fl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mc(t,e);var n=Xc(t),r=Xc(e),i=Mc(n.seconds,r.seconds);return 0!==i?i:Mc(n.nanos,r.nanos)}function dl(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Xc(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?el(e.bytesValue).toBase64():"referenceValue"in e?al.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):jc();var n}(t)}function pl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ml(t){return!!t&&"integerValue"in t}function yl(t){return!!t&&"arrayValue"in t}function gl(t){return!!t&&"nullValue"in t}function vl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bl(t){return!!t&&"mapValue"in t}var wl=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Wc.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return cl(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ul(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=bl(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Wc.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!bl(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function _l(t){var e=[];return zc(t.fields||{},(function(t,n){var r=new Wc([t]);if(bl(n)){var i=_l(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Jc(e)}var Sl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Bc.min(),wl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,wl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,wl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=wl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=wl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),El=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Tl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new El(t,e,n,r,i,o,s)}function Ol(t){var e=Pc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+dl(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),il(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ml(e.startAt)),e.endAt&&(n+="|ub:",n+=Ml(e.endAt)),e.h=n}return e.h}function Il(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!cl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bl(t.startAt,e.startAt)&&Bl(t.endAt,e.endAt)}function Cl(t){return al.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var xl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ec.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Al(t,n,r):"array-contains"===n?new jl(t,r):"in"===n?new Rl(t,r):"not-in"===n?new Pl(t,r):"array-contains-any"===n?new Ll(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new kl(t,n):new Nl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(hl(e,this.value)):null!==e&&ul(this.value)===ul(e)&&this.m(hl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return jc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Al=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=al.fromName(r.referenceValue),i}return Object(Ec.c)(e,t),e.prototype.matches=function(t){var e=al.comparator(t.key,this.key);return this.m(e)},e}(xl),kl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Dl(0,n),r}return Object(Ec.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xl),Nl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Dl(0,n),r}return Object(Ec.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xl);function Dl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return al.fromName(t.referenceValue)}))}var jl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ec.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yl(e)&&ll(e.arrayValue,this.value)},e}(xl),Rl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ec.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ll(this.value.arrayValue,e)},e}(xl),Pl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ec.c)(e,t),e.prototype.matches=function(t){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ll(this.value.arrayValue,e)},e}(xl),Ll=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ec.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ll(e.value.arrayValue,t)}))},e}(xl),Fl=function(t,e){this.position=t,this.before=e};function Ml(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return dl(t)})).join(",")}var Ul=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ql(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?al.comparator(al.fromName(s.referenceValue),n.key):hl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!cl(t.position[n],e.position[n]))return!1;return!0}var Hl=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function zl(t,e,n,r,i,o,s,a){return new Hl(t,e,n,r,i,o,s,a)}function Gl(t){return new Hl(t)}function Kl(t){return!il(t.limit)&&"F"===t.limitType}function $l(t){return!il(t.limit)&&"L"===t.limitType}function Ql(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Jl(t){return null!==t.collectionGroup}function Yl(t){var e=Pc(t);if(null===e.p){e.p=[];var n=Wl(e),r=Ql(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ul(n)),e.p.push(new Ul(Wc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ul(Wc.keyField(),u))}}}return e.p}function Zl(t){var e=Pc(t);if(!e.T)if("F"===e.limitType)e.T=Tl(e.path,e.collectionGroup,Yl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yl(e);r<i.length;r++){var o=i[r];n.push(new Ul(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Fl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Fl(e.startAt.position,!e.startAt.before):null;e.T=Tl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Xl(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function th(t,e){return Il(Zl(t),Zl(e))&&t.limitType===e.limitType}function eh(t){return Ol(Zl(t))+"|lt:"+t.limitType}function nh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+dl(e.value);var e})).join(", ")+"]"),il(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ml(t.startAt)),t.endAt&&(e+=", endAt: "+Ml(t.endAt)),"Target("+e+")"}(Zl(t))+"; limitType="+t.limitType+")"}function rh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):al.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ql(t.startAt,Yl(t),e)||t.endAt&&ql(t.endAt,Yl(t),e))}(t,e)}function ih(t){return function(e,n){for(var r=!1,i=0,o=Yl(t);i<o.length;i++){var s=o[i],a=oh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function oh(t,e,n){var r=t.field.isKeyField()?al.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?hl(r,i):jc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return jc()}}function sh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(e)?"-0":e}}function ah(t){return{integerValue:""+t}}function uh(t,e){return sl(e)?ah(e):sh(t,e)}var ch=function(){this._=void 0};function lh(t,e,n){return t instanceof dh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ph?mh(t,e):t instanceof yh?gh(t,e):function(t,e){var n=fh(t,e),r=bh(n)+bh(t.A);return ml(n)&&ml(t.A)?ah(r):sh(t.R,r)}(t,e)}function hh(t,e,n){return t instanceof ph?mh(t,e):t instanceof yh?gh(t,e):n}function fh(t,e){return t instanceof vh?ml(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e}(ch),ph=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ec.c)(e,t),e}(ch);function mh(t,e){for(var n=wh(e),r=function(t){n.some((function(e){return cl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ec.c)(e,t),e}(ch);function gh(t,e){for(var n=wh(e),r=function(t){n=n.filter((function(e){return!cl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ec.c)(e,t),e}(ch);function bh(t){return tl(t.integerValue||t.doubleValue)}function wh(t){return yl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _h=function(t,e){this.field=t,this.transform=e},Sh=function(t,e){this.version=t,this.transformResults=e},Eh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Th(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Oh=function(){};function Ih(t,e,n){t instanceof Nh?function(t,e,n){var r=t.value.clone(),i=Rh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Dh?function(t,e,n){if(Th(t.precondition,e)){var r=Rh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(jh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ch(t,e,n){t instanceof Nh?function(t,e,n){if(Th(t.precondition,e)){var r=t.value.clone(),i=Ph(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(kh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Dh?function(t,e,n){if(Th(t.precondition,e)){var r=Ph(t.fieldTransforms,n,e),i=e.data;i.setAll(jh(t)),i.setAll(r),e.convertToFoundDocument(kh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Th(t.precondition,e)&&e.convertToNoDocument(Bc.min())}(t,e)}function xh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=fh(o.transform,s||null);null!=a&&(null==n&&(n=wl.empty()),n.set(o.field,a))}return n||null}function Ah(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Uc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ph&&e instanceof ph||t instanceof yh&&e instanceof yh?Uc(t.elements,e.elements,cl):t instanceof vh&&e instanceof vh?cl(t.A,e.A):t instanceof dh&&e instanceof dh}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function kh(t){return t.isFoundDocument()?t.version:Bc.min()}var Nh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ec.c)(e,t),e}(Oh),Dh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ec.c)(e,t),e}(Oh);function jh(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Rh(t,e,n){var r=new Map;Rc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hh(s,a,n[i]))}return r}function Ph(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,lh(a,u,e))}return r}var Lh,Fh,Mh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ec.c)(e,t),e}(Oh),Uh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ec.c)(e,t),e}(Oh),Vh=function(t){this.count=t};function qh(t){switch(t){case Oc.OK:return jc();case Oc.CANCELLED:case Oc.UNKNOWN:case Oc.DEADLINE_EXCEEDED:case Oc.RESOURCE_EXHAUSTED:case Oc.INTERNAL:case Oc.UNAVAILABLE:case Oc.UNAUTHENTICATED:return!1;case Oc.INVALID_ARGUMENT:case Oc.NOT_FOUND:case Oc.ALREADY_EXISTS:case Oc.PERMISSION_DENIED:case Oc.FAILED_PRECONDITION:case Oc.ABORTED:case Oc.OUT_OF_RANGE:case Oc.UNIMPLEMENTED:case Oc.DATA_LOSS:return!0;default:return jc()}}function Bh(t){if(void 0===t)return kc("GRPC error has no .code"),Oc.UNKNOWN;switch(t){case Lh.OK:return Oc.OK;case Lh.CANCELLED:return Oc.CANCELLED;case Lh.UNKNOWN:return Oc.UNKNOWN;case Lh.DEADLINE_EXCEEDED:return Oc.DEADLINE_EXCEEDED;case Lh.RESOURCE_EXHAUSTED:return Oc.RESOURCE_EXHAUSTED;case Lh.INTERNAL:return Oc.INTERNAL;case Lh.UNAVAILABLE:return Oc.UNAVAILABLE;case Lh.UNAUTHENTICATED:return Oc.UNAUTHENTICATED;case Lh.INVALID_ARGUMENT:return Oc.INVALID_ARGUMENT;case Lh.NOT_FOUND:return Oc.NOT_FOUND;case Lh.ALREADY_EXISTS:return Oc.ALREADY_EXISTS;case Lh.PERMISSION_DENIED:return Oc.PERMISSION_DENIED;case Lh.FAILED_PRECONDITION:return Oc.FAILED_PRECONDITION;case Lh.ABORTED:return Oc.ABORTED;case Lh.OUT_OF_RANGE:return Oc.OUT_OF_RANGE;case Lh.UNIMPLEMENTED:return Oc.UNIMPLEMENTED;case Lh.DATA_LOSS:return Oc.DATA_LOSS;default:return jc()}}(Fh=Lh||(Lh={}))[Fh.OK=0]="OK",Fh[Fh.CANCELLED=1]="CANCELLED",Fh[Fh.UNKNOWN=2]="UNKNOWN",Fh[Fh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fh[Fh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fh[Fh.NOT_FOUND=5]="NOT_FOUND",Fh[Fh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fh[Fh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fh[Fh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fh[Fh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fh[Fh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fh[Fh.ABORTED=10]="ABORTED",Fh[Fh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fh[Fh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fh[Fh.INTERNAL=13]="INTERNAL",Fh[Fh.UNAVAILABLE=14]="UNAVAILABLE",Fh[Fh.DATA_LOSS=15]="DATA_LOSS";var Hh=function(){function t(t,e){this.comparator=t,this.root=e||Gh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new zh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new zh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new zh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new zh(this.root,t,this.comparator,!0)},t}(),zh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Gh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw jc();if(this.right.isRed())throw jc();var t=this.left.check();if(t!==this.right.check())throw jc();return t+(this.isRed()?0:1)},t}();Gh.EMPTY=null,Gh.RED=!0,Gh.BLACK=!1,Gh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw jc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw jc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Gh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Kh=function(){function t(t){this.comparator=t,this.data=new Hh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new $h(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new $h(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),$h=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Qh=new Hh(al.comparator);function Wh(){return Qh}var Jh=new Hh(al.comparator);function Yh(){return Jh}var Zh=new Hh(al.comparator);function Xh(){return Zh}var tf=new Kh(al.comparator);function ef(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=tf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var nf=new Kh(Mc);function rf(){return nf}var of=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Bc.min(),r,rf(),Wh(),ef())},t}(),sf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Yc.EMPTY_BYTE_STRING,n,ef(),ef(),ef())},t}(),af=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},uf=function(t,e){this.targetId=t,this.V=e},cf=function(t,e,n,r){void 0===n&&(n=Yc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},lf=function(){function t(){this.S=0,this.D=df(),this.C=Yc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ef(),e=ef(),n=ef();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:jc()}})),new sf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=df()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),hf=function(){function t(t){this.W=t,this.G=new Map,this.H=Wh(),this.J=ff(),this.Y=new Kh(Mc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:jc()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Cl(i))if(0===n){var o=new al(i.path);this.tt(e,o,Sl.newNoDocument(o,Bc.min()))}else Rc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Cl(o.target)){var s=new al(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Sl.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=ef();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new of(t,n,this.Y,this.H,r);return this.H=Wh(),this.J=ff(),this.Y=new Kh(Mc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new lf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Kh(Mc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ac("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new lf),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ff(){return new Hh(al.comparator)}function df(){return new Hh(al.comparator)}var pf={asc:"ASCENDING",desc:"DESCENDING"},mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yf=function(t,e){this.databaseId=t,this.I=e};function gf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vf(t,e){return t.I?e.toBase64():e.toUint8Array()}function bf(t,e){return gf(t,e.toTimestamp())}function wf(t){return Rc(!!t),Bc.fromTimestamp(function(t){var e=Xc(t);return new qc(e.seconds,e.nanos)}(t))}function _f(t,e){return function(t){return new $c(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Sf(t){var e=$c.fromString(t);return Rc(Gf(e)),e}function Ef(t,e){return _f(t.databaseId,e.path)}function Tf(t,e){var n=Sf(e);if(n.get(1)!==t.databaseId.projectId)throw new Ic(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ic(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new al(xf(n))}function Of(t,e){return _f(t.databaseId,e)}function If(t){var e=Sf(t);return 4===e.length?$c.emptyPath():xf(e)}function Cf(t){return new $c(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xf(t){return Rc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Af(t,e,n){return{name:Ef(t,e),fields:n.toProto().mapValue.fields}}function kf(t,e,n){var r=Tf(t,e.name),i=wf(e.updateTime),o=new wl({mapValue:{fields:e.fields}}),s=Sl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Nf(t,e){var n;if(e instanceof Nh)n={update:Af(t,e.key,e.value)};else if(e instanceof Mh)n={delete:Ef(t,e.key)};else if(e instanceof Dh)n={update:Af(t,e.key,e.data),updateMask:zf(e.fieldMask)};else{if(!(e instanceof Uh))return jc();n={verify:Ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof dh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ph)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw jc()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:bf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:jc()}(t,e.precondition)),n}function Df(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Eh.updateTime(wf(t.updateTime)):void 0!==t.exists?Eh.exists(t.exists):Eh.none()}(e.currentDocument):Eh.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Rc("REQUEST_TIME"===e.setToServerValue),n=new dh):"appendMissingElements"in e?n=new ph(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yh(e.removeAllFromArray.values||[]):"increment"in e?n=new vh(t,e.increment):jc();var r=Wc.fromServerFormat(e.fieldPath);return new _h(r,n)}(t,e)})):[];if(e.update){var i=Tf(t,e.update.name),o=new wl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Jc((t.fieldPaths||[]).map((function(t){return Wc.fromServerFormat(t)})))}(e.updateMask);return new Dh(i,o,s,n,r)}return new Nh(i,o,n,r)}if(e.delete){var a=Tf(t,e.delete);return new Mh(a,n)}if(e.verify){var u=Tf(t,e.verify);return new Uh(u,n)}return jc()}function jf(t,e){return{documents:[Of(t,e.path)]}}function Rf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Of(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Of(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vl(t.value))return{unaryFilter:{field:Vf(t.field),op:"IS_NAN"}};if(gl(t.value))return{unaryFilter:{field:Vf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vl(t.value))return{unaryFilter:{field:Vf(t.field),op:"IS_NOT_NAN"}};if(gl(t.value))return{unaryFilter:{field:Vf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vf(t.field),op:Uf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Vf(t.field),direction:Mf(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||il(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Lf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Lf(e.endAt)),n}function Pf(t){var e=If(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Rc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Hf(e)]:void 0!==e.fieldFilter?[Bf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):jc():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Ul(qf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return il(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ff(n.startAt));var l=null;return n.endAt&&(l=Ff(n.endAt)),zl(e,i,a,s,u,"F",c,l)}function Lf(t){return{before:t.before,values:t.position}}function Ff(t){return new Fl(t.values||[],!!t.before)}function Mf(t){return pf[t]}function Uf(t){return mf[t]}function Vf(t){return{fieldPath:t.canonicalString()}}function qf(t){return Wc.fromServerFormat(t.fieldPath)}function Bf(t){return xl.create(qf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Hf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=qf(t.unaryFilter.field);return xl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=qf(t.unaryFilter.field);return xl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qf(t.unaryFilter.field);return xl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qf(t.unaryFilter.field);return xl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jc()}}function zf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Gf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Kf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qf(e)),e=$f(t.get(n),e);return Qf(e)}function $f(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Qf(t){return t+"\x01\x01"}function Wf(t){var e=t.length;if(Rc(e>=2),2===e)return Rc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$c.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&jc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:jc()}o=s+2}return new $c(r)}var Jf=function(t,e){this.seconds=t,this.nanoseconds=e},Yf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Yf.store="owner",Yf.key="owner";var Zf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zf.store="mutationQueues",Zf.keyPath="userId";var Xf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xf.store="mutations",Xf.keyPath="batchId",Xf.userMutationsIndex="userMutationsIndex",Xf.userMutationsKeyPath=["userId","batchId"];var td=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Kf(e)]},t.key=function(t,e,n){return[t,Kf(e),n]},t}();td.store="documentMutations",td.PLACEHOLDER=new td;var ed=function(t,e){this.path=t,this.readTime=e},nd=function(t,e){this.path=t,this.version=e},rd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rd.store="remoteDocuments",rd.readTimeIndex="readTimeIndex",rd.readTimeIndexPath="readTime",rd.collectionReadTimeIndex="collectionReadTimeIndex",rd.collectionReadTimeIndexPath=["parentPath","readTime"];var id=function(t){this.byteSize=t};id.store="remoteDocumentGlobal",id.key="remoteDocumentGlobalKey";var od=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};od.store="targets",od.keyPath="targetId",od.queryTargetsIndexName="queryTargetsIndex",od.queryTargetsKeyPath=["canonicalId","targetId"];var sd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sd.store="targetDocuments",sd.keyPath=["targetId","path"],sd.documentTargetsIndex="documentTargetsIndex",sd.documentTargetsKeyPath=["path","targetId"];var ad=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ad.key="targetGlobalKey",ad.store="targetGlobal";var ud=function(t,e){this.collectionId=t,this.parent=e};ud.store="collectionParents",ud.keyPath=["collectionId","parent"];var cd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};cd.store="clientMetadata",cd.keyPath="clientId";var ld=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ld.store="bundles",ld.keyPath="bundleId";var hd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hd.store="namedQueries",hd.keyPath="name";var fd=Object(Ec.f)(Object(Ec.f)([],Object(Ec.f)(Object(Ec.f)([],Object(Ec.f)(Object(Ec.f)([],Object(Ec.f)(Object(Ec.f)([],[Zf.store,Xf.store,td.store,rd.store,od.store,Yf.store,ad.store,sd.store]),[cd.store])),[id.store])),[ud.store])),[ld.store,hd.store]),dd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),md=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},yd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&jc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),gd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new md,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new wd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Od(e.target.error);n.ft.reject(new wd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new wd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ac("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sd(e)},t}(),vd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(So.i)())&&kc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ac("SimpleDb","Removing database:",t),Ed(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(So.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ac("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new wd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ic(Oc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wd(t,n))},i.onupgradeneeded=function(t){Ac("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Ac("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ec.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Ec.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ec.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=gd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),yd.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ac("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ed(this.Pt.delete())},t}(),wd=function(t){function e(e,n){var r=this;return(r=t.call(this,Oc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ec.c)(e,t),e}(Ic);function _d(t){return"IndexedDbTransactionError"===t.name}var Sd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ac("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ac("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ed(n)},t.prototype.add=function(t){return Ac("SimpleDb","ADD",this.store.name,t,t),Ed(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ed(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ac("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ac("SimpleDb","DELETE",this.store.name,t),Ed(this.store.delete(t))},t.prototype.count=function(){return Ac("SimpleDb","COUNT",this.store.name),Ed(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Ac("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new yd((function(n,r){e.onerror=function(t){var e=Od(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new yd((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new bd(i),s=e(i.primaryKey,i.value,o);if(s instanceof yd){var a=s.catch((function(t){return o.done(),yd.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return yd.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ed(t){return new yd((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Od(t.target.error);n(e)}}))}var Td=!1;function Od(t){var e=vd._t(Object(So.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ic("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Td||(Td=!0,setTimeout((function(){throw r}),0)),r}}return t}var Id=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ec.c)(e,t),e}(pd);function Cd(t,e){var n=Pc(t);return vd.It(n.Mt,e)}var xd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ih(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ch(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ch(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Bc.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ef())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Uc(this.mutations,t.mutations,(function(t,e){return Ah(t,e)}))&&Uc(this.baseMutations,t.baseMutations,(function(t,e){return Ah(t,e)}))},t}(),Ad=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Rc(e.mutations.length===r.length);for(var i=Xh(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),kd=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Bc.min()),void 0===o&&(o=Bc.min()),void 0===s&&(s=Yc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Nd=function(t){this.Lt=t};function Dd(t,e){if(e.document)return kf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=al.fromSegments(e.noDocument.path),r=Fd(e.noDocument.readTime),i=Sl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=al.fromSegments(e.unknownDocument.path);return r=Fd(e.unknownDocument.version),Sl.newUnknownDocument(o,r)}return jc()}function jd(t,e,n){var r=Rd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ef(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:gf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new rd(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Ld(e.version);return s=e.hasCommittedMutations,new rd(null,new ed(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ld(e.version);return new rd(new nd(c,l),null,null,!0,r,i)}return jc()}function Rd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pd(t){var e=new qc(t[0],t[1]);return Bc.fromTimestamp(e)}function Ld(t){var e=t.toTimestamp();return new Jf(e.seconds,e.nanoseconds)}function Fd(t){var e=new qc(t.seconds,t.nanoseconds);return Bc.fromTimestamp(e)}function Md(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Df(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Df(t.Lt,e)})),o=qc.fromMillis(e.localWriteTimeMs);return new xd(e.batchId,o,n,i)}function Ud(t){var e,n,r=Fd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Fd(t.lastLimboFreeSnapshotVersion):Bc.min();return void 0!==t.query.documents?(Rc(1===(n=t.query).documents.length),e=Zl(Gl(If(n.documents[0])))):e=function(t){return Zl(Pf(t))}(t.query),new kd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Yc.fromBase64String(t.resumeToken))}function Vd(t,e){var n,r=Ld(e.snapshotVersion),i=Ld(e.lastLimboFreeSnapshotVersion);n=Cl(e.target)?jf(t.Lt,e.target):Rf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new od(e.targetId,Ol(e.target),r,o,e.sequenceNumber,i,n)}function qd(t){var e=Pf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Xl(e,e.limit,"L"):e}var Bd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Hd(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Fd(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Hd(t).put({bundleId:(n=e).id,createTime:Ld(wf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return zd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:qd(e.bundledQuery),readTime:Fd(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return zd(t).put(function(t){return{name:t.name,readTime:Ld(wf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Hd(t){return Cd(t,ld.store)}function zd(t){return Cd(t,hd.store)}var Gd=function(){function t(){this.Bt=new Kd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),yd.resolve()},t.prototype.getCollectionParents=function(t,e){return yd.resolve(this.Bt.getEntries(e))},t}(),Kd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Kh($c.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Kh($c.comparator)).toArray()},t}(),$d=function(){function t(){this.qt=new Kd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Kf(i)};return Qd(t).put(o)}return yd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Vc(e),""],!1,!0);return Qd(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wf(o.parent))}return n}))},t}();function Qd(t){return Cd(t,ud.store)}var Wd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Yd(t,e,n){var r=t.store(Xf.store),i=t.store(td.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Rc(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=td.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return yd.waitFor(o).next((function(){return c}))}function Zd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw jc();e=t.noDocument}return JSON.stringify(e).length}Jd.DEFAULT_COLLECTION_PERCENTILE=10,Jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jd.DEFAULT=new Jd(41943040,Jd.DEFAULT_COLLECTION_PERCENTILE,Jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jd.DISABLED=new Jd(-1,0,0);var Xd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Rc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ep(t).Ot({index:Xf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=np(t),s=ep(t);return s.add({}).next((function(a){Rc("number"==typeof a);for(var u=new xd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Nf(t.Lt,e)})),i=n.mutations.map((function(e){return Nf(t.Lt,e)}));return new Xf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Kh((function(t,e){return Mc(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=td.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,td.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),yd.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ep(t).get(e).next((function(t){return t?(Rc(t.userId===n.userId),Md(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?yd.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ep(t).Ot({index:Xf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Rc(e.batchId>=r),o=Md(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ep(t).Ot({index:Xf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ep(t).Nt(Xf.userMutationsIndex,n).next((function(t){return t.map((function(t){return Md(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=td.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return np(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Wf(r[1]);if(a===n.userId&&e.path.isEqual(c))return ep(t).get(u).next((function(t){if(!t)throw jc();Rc(t.userId===n.userId),o.push(Md(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Kh(Mc),i=[];return e.forEach((function(e){var o=td.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=np(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Wf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),yd.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=td.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Kh(Mc);return np(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Wf(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ep(t).get(e).next((function(t){if(null===t)throw jc();Rc(t.userId===n.userId),r.push(Md(n.R,t))})))})),yd.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Yd(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),yd.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return yd.resolve();var r=IDBKeyRange.lowerBound(td.prefixForUser(e.userId)),i=[];return np(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wf(t[1]);i.push(o)}else r.done()})).next((function(){Rc(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return tp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return rp(t).get(this.userId).next((function(t){return t||new Zf(e.userId,-1,"")}))},t}();function tp(t,e,n){var r=td.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return np(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function ep(t){return Cd(t,Xf.store)}function np(t){return Cd(t,td.store)}function rp(t){return Cd(t,Zf.store)}var ip=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),op=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ip(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Bc.fromTimestamp(new qc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return sp(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Rc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return sp(t).Ot((function(s,a){var u=Ud(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return yd.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return sp(t).Ot((function(t,n){var r=Ud(n);e(r)}))},t.prototype.Xt=function(t){return ap(t).get(ad.key).next((function(t){return Rc(null!==t),t}))},t.prototype.Zt=function(t,e){return ap(t).put(ad.key,e)},t.prototype.te=function(t,e){return sp(t).put(Vd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ol(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sp(t).Ot({range:r,index:od.queryTargetsIndexName},(function(t,n,r){var o=Ud(n);Il(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=up(t);return e.forEach((function(e){var s=Kf(e.path);i.push(o.put(new sd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),yd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=up(t);return yd.forEach(e,(function(e){var o=Kf(e.path);return yd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=up(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=up(t),i=ef();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Wf(t[1]),o=new al(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Kf(e.path),r=IDBKeyRange.bound([n],[Vc(n)],!1,!0),i=0;return up(t).Ot({index:sd.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return sp(t).get(e).next((function(t){return t?Ud(t):null}))},t}();function sp(t){return Cd(t,od.store)}function ap(t){return Cd(t,ad.store)}function up(t){return Cd(t,sd.store)}function cp(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){if(t.code!==Oc.FAILED_PRECONDITION||t.message!==dd)throw t;return Ac("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function lp(t,e){var n=t[1],r=e[1],i=Mc(t[0],e[0]);return 0===i?Mc(n,r):i}var hp=function(){function t(t){this.ne=t,this.buffer=new Kh(lp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();lp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),fp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ac("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Ec.b)(e,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return _d(e=n.sent())?(Ac("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),dp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return yd.resolve(Tc.o);var r=new hp(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ac("LruGarbageCollector","Garbage collection skipped; disabled"),yd.resolve(Wd)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ac("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Wd):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ac("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),xc()<=Eo.a.DEBUG&&Ac("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),yd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),pp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new dp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return mp(t,n)},t.prototype.removeReference=function(t,e,n){return mp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return mp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return rp(t).$t((function(r){return tp(t,r,e).next((function(t){return t&&(n=!0),yd.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),up(t).delete([0,Kf(s.path)])}))}));i.push(u)}})).next((function(){return yd.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mp(t,e)},t.prototype.we=function(t,e){var n,r=up(t),i=Tc.o;return r.Ot({index:sd.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Tc.o&&e(new al(Wf(n)),i),i=s,n=o):i=Tc.o})).next((function(){i!==Tc.o&&e(new al(Wf(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mp(t,e){return up(t).put(function(t,e){return new sd(0,Kf(t.path),e)}(e,t.currentSequenceNumber))}var yp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){zc(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Gc(this.inner)},t}(),gp=function(){function t(){this.changes=new yp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Bc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Sl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?yd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),vp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return _p(t).put(Sp(e),n)},t.prototype.removeEntry=function(t,e){var n=_p(t),r=Sp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return _p(t).get(Sp(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return _p(t).get(Sp(e)).next((function(t){return{document:n.ye(e,t),size:Zd(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Wh();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Wh(),i=new Hh(al.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Zd(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return yd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return _p(t).Ot({range:r},(function(t,e,r){for(var s=al.fromSegments(t);o&&al.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Wh(),o=e.path.length+1,s={};if(n.isEqual(Bc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Rd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=rd.collectionReadTimeIndex}return _p(t).Ot(s,(function(t,n,s){if(t.length===o){var a=Dd(r.R,n);e.path.isPrefixOf(a.key.path)?rh(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new bp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return wp(t).get(id.key).next((function(t){return Rc(!!t),t}))},t.prototype.me=function(t,e){return wp(t).put(id.key,e)},t.prototype.ye=function(t,e){if(e){var n=Dd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Bc.min()))return n}return Sl.newInvalidDocument(t)},t}(),bp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new yp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Ec.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Kh((function(t,e){return Mc(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=jd(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Zd(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=jd(e.Ie.R,Sl.newNoDocument(o,Bc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),yd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(gp);function wp(t){return Cd(t,id.store)}function _p(t){return Cd(t,rd.store)}function Sp(t){return t.path.toArray()}var Ep=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Rc(n<r&&n>=0&&r<=11);var o=new gd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Yf.store)}(t),function(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath}),t.createObjectStore(Xf.store,{keyPath:Xf.keyPath,autoIncrement:!0}).createIndex(Xf.userMutationsIndex,Xf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(td.store)}(t),Tp(t),function(t){t.createObjectStore(rd.store)}(t));var s=yd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(sd.store),t.deleteObjectStore(od.store),t.deleteObjectStore(ad.store)}(t),Tp(t)),s=s.next((function(){return function(t){var e=t.store(ad.store),n=new ad(0,0,Bc.min().toTimestamp(),0);return e.put(ad.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Xf.store).Nt().next((function(n){t.deleteObjectStore(Xf.store),t.createObjectStore(Xf.store,{keyPath:Xf.keyPath,autoIncrement:!0}).createIndex(Xf.userMutationsIndex,Xf.userMutationsKeyPath,{unique:!0});var r=e.store(Xf.store),i=n.map((function(t){return r.put(t)}));return yd.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(cd.store,{keyPath:cd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(id.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(rd.store);e.createIndex(rd.readTimeIndex,rd.readTimeIndexPath,{unique:!1}),e.createIndex(rd.collectionReadTimeIndex,rd.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(ld.store,{keyPath:ld.keyPath})}(t),function(t){t.createObjectStore(hd.store,{keyPath:hd.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(rd.store).Ot((function(t,n){e+=Zd(n)})).next((function(){var n=new id(e);return t.store(id.store).put(id.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Zf.store),r=t.store(Xf.store);return n.Nt().next((function(n){return yd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Xf.userMutationsIndex,i).next((function(r){return yd.forEach(r,(function(r){Rc(r.userId===n.userId);var i=Md(e.R,r);return Yd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(sd.store),n=t.store(rd.store);return t.store(ad.store).get(ad.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new $c(n),s=function(t){return[0,Kf(t)]}(o);r.push(e.get(s).next((function(n){return n?yd.resolve():function(n){return e.put(new sd(0,Kf(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return yd.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ud.store,{keyPath:ud.keyPath});var n=e.store(ud.store),r=new Kd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Kf(i)})}};return e.store(rd.store).Ot({kt:!0},(function(t,e){var n=new $c(t);return i(n.popLast())})).next((function(){return e.store(td.store).Ot({kt:!0},(function(t,e){var n=Wf(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(od.store);return n.Ot((function(t,r){var i=Ud(r),o=Vd(e.R,i);return n.put(o)}))},t}();function Tp(t){t.createObjectStore(sd.store,{keyPath:sd.keyPath}).createIndex(sd.documentTargetsIndex,sd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(od.store,{keyPath:od.keyPath}).createIndex(od.queryTargetsIndexName,od.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ad.store)}var Op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ip=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ic(Oc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pp(this,i),this.Le=n+"main",this.R=new Nd(u),this.Be=new vd(this.Le,11,new Ep(this.R)),this.qe=new op(this.referenceDelegate,this.R),this.Ut=new $d,this.Ue=function(t,e){return new vp(t,e)}(this.R,this.Ut),this.Qe=new Bd,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&kc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ic(Oc.FAILED_PRECONDITION,Op);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Tc(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ec.b)(e,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(Ec.b)(e,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(Ec.b)(e,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return xp(e).put(new cd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(_d(e))return Ac("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ac("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Cp(t).get(Yf.key).next((function(t){return yd.resolve(e.tn(t))}))},t.prototype.en=function(t){return xp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Cd(t,cd.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return yd.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?yd.resolve(!0):Cp(t).get(Yf.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ic(Oc.FAILED_PRECONDITION,Op);return!1}}return!(!e.networkEnabled||!e.inForeground)||xp(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ac("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t=this;return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Yf.store,cd.store],(function(e){var n=new Id(e,Tc.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return xp(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Xd.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ac("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",fd,(function(o){return r=new Id(o,i.Ne?i.Ne.next():Tc.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw kc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Ic(Oc.FAILED_PRECONDITION,dd);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Cp(t).get(Yf.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ic(Oc.FAILED_PRECONDITION,Op)}))},t.prototype.Ze=function(t){var e=new Yf(this.clientId,this.allowTabSynchronization,Date.now());return Cp(t).put(Yf.key,e)},t.yt=function(){return vd.yt()},t.prototype.Xe=function(t){var e=this,n=Cp(t);return n.get(Yf.key).next((function(t){return e.tn(t)?(Ac("IndexedDbPersistence","Releasing primary lease."),n.delete(Yf.key)):yd.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(kc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ac("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return kc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){kc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Cp(t){return Cd(t,Yf.store)}function xp(t){return Cd(t,cd.store)}function Ap(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var kp=function(t,e){this.progress=t,this.wn=e},Np=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return al.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Jl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new al(e)).next((function(t){var e=Yh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Yh();return this.Ut.getCollectionParents(t,i).next((function(s){return yd.forEach(s,(function(s){var a=function(t,e){return new Hl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Sl.newInvalidDocument(c),r=r.insert(c,l)),Ch(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){rh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ef(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Dh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Dp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ef(),i=ef(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),jp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Bc.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Kl(e)||$l(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(xc()<=Eo.a.DEBUG&&Ac("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Kh(ih(t));return e.forEach((function(e,r){rh(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return xc()<=Eo.a.DEBUG&&Ac("QueryEngine","Using full collection scan to execute query:",nh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Bc.min())},t}(),Rp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Hh(Mc),this.kn=new yp((function(t){return Ol(t)}),Il),this.On=Bc.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Np(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Pp(t,e,n,r){return new Rp(t,e,n,r)}function Lp(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ec.d)(this,(function(s){switch(s.label){case 0:return n=Pc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Np(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=ef(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,y=p.mutations;m<y.length;m++)s=s.add(y[m].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Fp(t,e){var n=Pc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=yd.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Rc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Mp(t){var e=Pc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Up(t,e){var n=Pc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Rc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Wh();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Vp(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Bc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return yd.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Vp(t,e,n,r,i){var o=ef();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Wh();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Bc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Ac("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function qp(t,e){var n=Pc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Bp(t,e){var n=Pc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?yd.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new kd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Hp(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:r=Pc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!_d(s=a.sent()))throw s;return Ac("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function zp(t,e,n){var r=Pc(t),i=Bc.min(),o=ef();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Pc(t),i=r.kn.get(n);return void 0!==i?yd.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Zl(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Bc.min(),n?o:ef())})).next((function(t){return{documents:t,Bn:o}}))}))}function Gp(t,e){var n=Pc(t),r=Pc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Kp(t){var e=Pc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Pc(t),i=Wh(),o=Rd(n),s=_p(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:rd.readTimeIndex,range:a},(function(t,e){var n=Dd(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Pd(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function $p(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){return[2,(e=Pc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=_p(t),n=Bc.min();return e.Ot({index:rd.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Pd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function Qp(t,e,n,r){return Object(Ec.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(Ec.d)(this,(function(p){switch(p.label){case 0:for(i=Pc(t),o=ef(),s=Wh(),a=Xh(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Bp(i,function(t){return Zl(Gl($c.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vp(t,f,s,Bc.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Wp(t,e,n){return void 0===n&&(n=ef()),Object(Ec.b)(this,void 0,void 0,(function(){var r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return[4,Bp(t,Zl(qd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Pc(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=wf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Yc.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Jp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return yd.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:wf(n.createTime)}),yd.resolve()},t.prototype.getNamedQuery=function(t,e){return yd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:qd(t.bundledQuery),readTime:wf(t.readTime)}}(e)),yd.resolve()},t}(),Yp=function(){function t(){this.Wn=new Kh(Zp.Gn),this.zn=new Kh(Zp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Zp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Zp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new al(new $c([])),r=new Zp(n,t),i=new Zp(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new al(new $c([])),n=new Zp(e,t),r=new Zp(e,t+1),i=ef();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Zp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Zp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return al.comparator(t.key,e.key)||Mc(t.ns,e.ns)},t.Hn=function(t,e){return Mc(t.ns,e.ns)||al.comparator(t.key,e.key)},t}(),Xp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Kh(Zp.Gn)}return t.prototype.checkEmpty=function(t){return yd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new xd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Zp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return yd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return yd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return yd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return yd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return yd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Zp(e,0),i=new Zp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),yd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Kh(Mc);return e.forEach((function(t){var e=new Zp(t,0),i=new Zp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),yd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;al.isDocumentKey(i)||(i=i.child(""));var o=new Zp(new al(i),0),s=new Kh(Mc);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),yd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Rc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return yd.forEach(e.mutations,(function(i){var o=new Zp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Zp(e,0),r=this.rs.firstAfterOrEqual(n);return yd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return yd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),tm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Hh(al.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return yd.resolve(n?n.document.clone():Sl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Wh();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Sl.newInvalidDocument(t))})),yd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Wh(),i=new al(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||rh(e,u)&&(r=r.insert(u.key,u.clone()))}return yd.resolve(r)},t.prototype.fs=function(t,e){return yd.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new em(this)},t.prototype.getSize=function(t){return yd.resolve(this.size)},t}(),em=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ec.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),yd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(gp),nm=function(){function t(t){this.persistence=t,this.ds=new yp((function(t){return Ol(t)}),Il),this.lastRemoteSnapshotVersion=Bc.min(),this.highestTargetId=0,this.ws=0,this._s=new Yp,this.targetCount=0,this.ys=ip.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),yd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return yd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return yd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),yd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),yd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ip(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,yd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),yd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,yd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),yd.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return yd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return yd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),yd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),yd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),yd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return yd.resolve(n)},t.prototype.containsKey=function(t,e){return yd.resolve(this._s.containsKey(e))},t}(),rm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Tc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new nm(this),this.Ut=new Gd,this.Ue=function(t,e){return new tm(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Nd(e),this.Qe=new Jp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Xp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ac("MemoryPersistence","Starting transaction:",t);var i=new im(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return yd.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),im=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ec.c)(e,t),e}(pd),om=function(){function t(t){this.persistence=t,this.As=new Yp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw jc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),yd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),yd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),yd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yd.forEach(this.vs,(function(r){var i=al.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return yd.or([function(){return yd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),sm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function am(t,e){return"firestore_clients_"+t+"_"+e}function um(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function cm(t,e){return"firestore_targets_"+t+"_"+e}sm.UNAUTHENTICATED=new sm(null),sm.GOOGLE_CREDENTIALS=new sm("google-credentials-uid"),sm.FIRST_PARTY=new sm("first-party-uid");var lm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ic(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(kc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ic(i.error.code,i.error.message)),o?new t(e,i.state,r):(kc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=rf(),s=0;i&&s<r.activeTargetIds.length;++s)i=sl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(kc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(kc("SharedClientState","Failed to parse online state: "+e),null)},t}(),pm=function(){function t(){this.activeTargetIds=rf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),mm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Hh(Mc),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=am(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new pm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ec.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(am(this.persistenceKey,r)))&&(o=fm.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(cm(this.persistenceKey,t));if(n){var r=hm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(cm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ac("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ac("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ac("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ac("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void kc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(Ec.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Ec.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Tc.o;if(null!=t)try{var n=JSON.parse(t);Rc("number"==typeof n),e=n}catch(t){kc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Tc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new lm(this.currentUser,t,e,n),i=um(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=um(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=cm(this.persistenceKey,t),i=new hm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return fm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return lm.Vs(new sm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return hm.Vs(r,e)},t.prototype.js=function(t){return dm.Vs(t)},t.prototype.ii=function(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ac("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=rf();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ym=function(){function t(){this.li=new pm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new pm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),gm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),vm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ac("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ac("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),_m=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Ec.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Sc;s.listenOnce(bc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case vc.NO_ERROR:var e=s.getResponseJson();Ac("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vc.TIMEOUT:Ac("Connection",'RPC "'+t+'" timed out'),o(new Ic(Oc.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:var n=s.getStatus();if(Ac("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Oc).indexOf(e)>=0?e:Oc.UNKNOWN}(r.status);o(new Ic(a,r.message))}else o(new Ic(Oc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ic(Oc.UNAVAILABLE,"Connection failed."));break;default:jc()}}finally{Ac("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new dc,i=ya(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(So.n)()||Object(So.p)()||Object(So.l)()||Object(So.m)()||Object(So.q)()||Object(So.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ac("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new wm({Ei:function(t){c?Ac("Connection","Not sending because WebChannel is closed:",t):(u||(Ac("Connection","Opening WebChannel transport."),a.open(),u=!0),Ac("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,_c.EventType.OPEN,(function(){c||Ac("Connection","WebChannel transport opened.")})),h(a,_c.EventType.CLOSE,(function(){c||(c=!0,Ac("Connection","WebChannel transport closed"),l.Vi())})),h(a,_c.EventType.ERROR,(function(t){c||(c=!0,Nc("Connection","WebChannel transport errored:",t),l.Vi(new Ic(Oc.UNAVAILABLE,"The operation could not be completed")))})),h(a,_c.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Rc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ac("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Lh[t];if(void 0!==e)return Bh(e)}(i),s=r.message;void 0===o&&(o=Oc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ic(o,s)),a.close()}else Ac("Connection","WebChannel received:",n),l.Si(n)}})),h(i,wc.STAT_EVENT,(function(t){10===t.stat?Ac("Connection","Detected buffering proxy"):11===t.stat&&Ac("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ac("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Ac("RestConnection","Received: ",t),t}),(function(e){throw Nc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+bm[t]},t}());function Sm(){return"undefined"!=typeof window?window:null}function Em(){return"undefined"!=typeof document?document:null}function Tm(t){return new yf(t,!0)}var Om=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ac("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Im=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Om(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Oc.RESOURCE_EXHAUSTED?(kc(e.toString()),kc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Oc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ic(Oc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(Ec.b)(t,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Ac("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Ac("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Cm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ec.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:jc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Rc(void 0===e||"string"==typeof e),Yc.fromBase64String(e||"")):(Rc(void 0===e||e instanceof Uint8Array),Yc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Oc.UNKNOWN:Bh(t.code);return new Ic(e,t.message||"")}(a);n=new cf(r,i,o,s||null)}else if("documentChange"in e){i=Tf(t,(r=e.documentChange).document.name),o=wf(r.document.updateTime);var a=new wl({mapValue:{fields:r.document.fields}}),u=(s=Sl.newFoundDocument(i,o,a),r.targetIds||[]);n=new af(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Tf(t,(r=e.documentDelete).document),o=r.readTime?wf(r.readTime):Bc.min(),a=Sl.newNoDocument(i,o),n=new af([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Tf(t,(r=e.documentRemove).document),n=new af([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return jc();var c=e.filter;i=new Vh(r=c.count||0),n=new uf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Bc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Bc.min():e.readTime?wf(e.readTime):Bc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Cf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Cl(r)?{documents:jf(t,r)}:{query:Rf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vf(t,e.resumeToken):e.snapshotVersion.compareTo(Bc.min())>0&&(n.readTime=gf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Cf(this.R),e.removeTarget=t,this.cr(e)},e}(Im),xm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ec.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Rc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Rc(void 0!==e),t.map((function(t){return function(t,e){var n=wf(t.updateTime?t.updateTime:e);return n.isEqual(Bc.min())&&(n=wf(e)),new Sh(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=wf(t.commitTime);return this.listener.Tr(n,e)}return Rc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Cf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Nf(e.R,t)}))};this.cr(n)},e}(Im),Am=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ec.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ic(Oc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Oc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ic(Oc.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Oc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ic(Oc.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),km=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(kc(e),this.Vr=!1):Ac("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Nm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(Ec.b)(o,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return Vm(this)?(Ac("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return(e=Pc(t)).$r.add(4),[4,jm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Dm(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new km(n,r)};function Dm(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:if(!Vm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jm(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Rm(t,e){var n=Pc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Um(n)?Mm(n):ey(n).er()&&Lm(n,e))}function Pm(t,e){var n=Pc(t),r=ey(n);n.Or.delete(e),r.er()&&Fm(n,e),0===n.Or.size&&(r.er()?r.ir():Vm(n)&&n.Br.set("Unknown"))}function Lm(t,e){t.qr.U(e.targetId),ey(t).mr(e)}function Fm(t,e){t.qr.U(e),ey(t).yr(e)}function Mm(t){t.qr=new hf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),ey(t).start(),t.Br.Sr()}function Um(t){return Vm(t)&&!ey(t).tr()&&t.Or.size>0}function Vm(t){return 0===Pc(t).$r.size}function qm(t){t.qr=void 0}function Bm(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){return t.Or.forEach((function(e,n){Lm(t,e)})),[2]}))}))}function Hm(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(n){return qm(t),Um(t)?(t.Br.Nr(e),Mm(t)):t.Br.set("Unknown"),[2]}))}))}function zm(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Ec.d)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof cf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ec.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ac("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof af?t.qr.X(e):e instanceof uf?t.qr.rt(e):t.qr.et(e),n.isEqual(Bc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Mp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Yc.EMPTY_BYTE_STRING,n.snapshotVersion)),Fm(t,e);var r=new kd(n.target,e,1,n.sequenceNumber);Lm(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ac("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Gm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Gm(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r=this;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:if(!_d(e))throw e;return t.$r.add(1),[4,jm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Mp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Ec.b)(r,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return Ac("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Dm(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Km(t,e){return e().catch((function(n){return Gm(t,n,e)}))}function $m(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Ec.d)(this,(function(s){switch(s.label){case 0:e=Pc(t),n=ny(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Vm(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,qp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ny(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Gm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qm(e)&&Wm(e),[2]}}))}))}function Qm(t){return Vm(t)&&!ny(t).tr()&&t.kr.length>0}function Wm(t){ny(t).start()}function Jm(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){return ny(t).Ar(),[2]}))}))}function Ym(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Ec.d)(this,(function(i){for(e=ny(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Zm(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Ad.from(r,e,n),[4,Km(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$m(t)];case 2:return o.sent(),[2]}}))}))}function Xm(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return e&&ny(t).pr?[4,function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return qh(r=e.code)&&r!==Oc.ABORTED?(n=t.kr.shift(),ny(t).sr(),[4,Km(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,$m(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qm(t)&&Wm(t),[2]}}))}))}function ty(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return n=Pc(t),e?(n.$r.delete(2),[4,Dm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,jm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ey(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Pc(t);return r.br(),new Cm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Bm.bind(null,t),Ri:Hm.bind(null,t),_r:zm.bind(null,t)}),t.Mr.push((function(n){return Object(Ec.b)(e,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Um(t)?Mm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),qm(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function ny(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Pc(t);return r.br(),new xm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Jm.bind(null,t),Ri:Xm.bind(null,t),Ir:Ym.bind(null,t),Tr:Zm.bind(null,t)}),t.Mr.push((function(n){return Object(Ec.b)(e,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,$m(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ac("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var ry=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new md,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ic(Oc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function iy(t,e){if(kc("AsyncQueue",e+": "+t),_d(t))return new Ic(Oc.UNAVAILABLE,e+": "+t);throw t}var oy=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||al.comparator(e.key,n.key)}:function(t,e){return al.comparator(t.key,e.key)},this.keyedMap=Yh(),this.sortedSet=new Hh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),sy=function(){function t(){this.Kr=new Hh(al.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):jc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ay=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,oy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),uy=function(){this.Wr=void 0,this.listeners=[]},cy=function(){this.queries=new yp((function(t){return eh(t)}),th),this.onlineState="Unknown",this.Gr=new Set};function ly(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Ec.d)(this,(function(c){switch(c.label){case 0:if(n=Pc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new uy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=iy(a,"Initialization of query '"+nh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&py(n),[2]}}))}))}function hy(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ec.d)(this,(function(a){return n=Pc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function fy(t,e){for(var n=Pc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&py(n)}function dy(t,e,n){var r=Pc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function py(t){t.Gr.forEach((function(t){t.next()}))}var my=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ay(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ay.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),yy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),gy=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Tf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?kf(this.R,t.document,!1):Sl.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return wf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new gy(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ef()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return[4,Qp(this.localStore,new gy(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Wp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kp(Object.assign({},this.progress),t))]}}))}))}}();var vy=function(t){this.key=t},by=function(t){this.key=t},wy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ef(),this.mutatedKeys=ef(),this.lo=ih(t),this.fo=new oy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new sy,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Kl(this.query)&&i.size===this.query.limit?i.last():null,c=$l(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=rh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Kl(this.query)||$l(this.query))for(;s.size>this.query.limit;){var l=Kl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ay(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ef(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new by(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new vy(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ef();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ay.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),_y=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sy=function(t){this.key=t,this.bo=!1},Ey=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new yp((function(t){return eh(t)}),th),this.Vo=new Map,this.So=new Set,this.Do=new Hh(al.comparator),this.Co=new Map,this.No=new Yp,this.xo={},this.Fo=new Map,this.ko=ip.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Ty(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:return n=Xy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Bp(n.localStore,Zl(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Oy(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Rm(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Oy(t,e,n,r){return Object(Ec.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Ec.d)(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Ec.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,zp(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(My(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,zp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new wy(e,i.Bn),s=o._o(i.documents),a=sf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),My(t,n,u.To),c=new _y(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Iy(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return n=Pc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!th(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hp(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Pm(n.remoteStore,r.targetId),Ly(n,r.targetId)})).catch(cp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ly(n,r.targetId),[4,Hp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Cy(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:r=tg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Pc(t),i=qc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ef());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=xh(c,n.get(c.key));null!=l&&s.push(new Dh(c.key,l,_l(l.toProto().mapValue),Eh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Hh(Mc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,qy(r,i.changes)];case 3:return a.sent(),[4,$m(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=iy(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function xy(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:n=Pc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Up(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Rc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Rc(r.bo):t.removedDocuments.size>0&&(Rc(r.bo),r.bo=!1))})),[4,qy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,cp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ay(t,e,n){var r=Pc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Pc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&py(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ky(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Ec.d)(this,(function(c){switch(c.label){case 0:return(r=Pc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Hh(al.comparator)).insert(o,Sl.newNoDocument(o,Bc.min())),a=ef().add(o),u=new of(Bc.min(),new Map,new Kh(Mc),s,a),[4,xy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Vy(r),[3,4];case 2:return[4,Hp(r.localStore,e,!1).then((function(){return Ly(r,e,n)})).catch(cp)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ny(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:n=Pc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Fp(n.localStore,e)];case 2:return i=o.sent(),Py(n,r,null),Ry(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,qy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,cp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dy(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:r=Pc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Pc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Rc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Py(r,e,n),Ry(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,qy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,cp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jy(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:Vm((n=Pc(t)).remoteStore)||Ac("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Pc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=iy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Ry(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Py(t,e,n){var r=Pc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ly(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Fy(t,e)}))}function Fy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Pm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vy(t))}function My(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof vy?(t.No.addReference(o.key,e),Uy(t,o)):o instanceof by?(Ac("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Fy(t,o.key)):jc()}}function Uy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ac("SyncEngine","New document in limbo: "+n),t.So.add(r),Vy(t))}function Vy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new al($c.fromString(e)),r=t.ko.next();t.Co.set(r,new Sy(n)),t.Do=t.Do.insert(n,r),Rm(t.remoteStore,new kd(Zl(Gl(n.path)),r,2,Tc.o))}}function qy(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:return r=Pc(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Dp.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Ec.d)(this,(function(l){switch(l.label){case 0:n=Pc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return yd.forEach(e,(function(e){return yd.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return yd.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!_d(r=l.sent()))throw r;return Ac("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function By(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return(n=Pc(t)).currentUser.isEqual(e)?[3,3]:(Ac("SyncEngine","User change. New user:",e.toKey()),[4,Lp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Ic(Oc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,qy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Hy(t,e){var n=Pc(t),r=n.Co.get(e);if(r&&r.bo)return ef().add(r.key);var i=ef(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function zy(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return[4,zp((n=Pc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&My(n,e.targetId,i.To),i)]}}))}))}function Gy(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){return[2,Kp((e=Pc(t)).localStore).then((function(t){return qy(e,t)}))]}))}))}function Ky(t,e,n,r){return Object(Ec.b)(this,void 0,void 0,(function(){var i,o;return Object(Ec.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Pc(t),r=Pc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):yd.resolve(null)}))}))}((i=Pc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,$m(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Py(i,e,r||null),Ry(i,e),function(t,e){Pc(Pc(t)._n).Gt(e)}(i.localStore,e)):jc(),s.label=4;case 4:return[4,qy(i,o)];case 5:return s.sent(),[3,7];case 6:Ac("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function $y(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Ec.d)(this,(function(c){switch(c.label){case 0:return Xy(n=Pc(t)),tg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Qy(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,ty(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Rm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Ly(n,e),Hp(n.localStore,e,!0)})),Pm(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Qy(n,a)];case 5:return c.sent(),function(t){var e=Pc(t);e.Co.forEach((function(t,n){Pm(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Hh(al.comparator)}(n),n.Oo=!1,[4,ty(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Qy(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ec.d)(this,(function(m){switch(m.label){case 0:n=Pc(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Bp(n.localStore,Zl(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,zy(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Gp(n.localStore,a)];case 8:return p=m.sent(),[4,Bp(n.localStore,p)];case 9:return u=m.sent(),[4,Oy(n,Wy(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Wy(t){return zl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jy(t){var e=Pc(t);return Pc(Pc(e.localStore).persistence).fn()}function Yy(t,e,n,r){return Object(Ec.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ec.d)(this,(function(a){switch(a.label){case 0:return(i=Pc(t)).Oo?(Ac("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kp(i.localStore)];case 3:return o=a.sent(),s=of.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,qy(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Hp(i.localStore,e,!0)];case 6:return a.sent(),Ly(i,e,r),[3,8];case 7:jc(),a.label=8;case 8:return[2]}}))}))}function Zy(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Ec.d)(this,(function(f){switch(f.label){case 0:if(!(r=Xy(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Ac("SyncEngine","Adding an already active target "+s),[3,5]):[4,Gp(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Bp(r.localStore,a)];case 3:return u=f.sent(),[4,Oy(r,Wy(a),u.targetId,!1)];case 4:f.sent(),Rm(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Hp(r.localStore,t,!1).then((function(){Pm(r.remoteStore,t),Ly(r,t)})).catch(cp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Xy(t){var e=Pc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ky.bind(null,e),e.vo._r=fy.bind(null,e.eventManager),e.vo.Mo=dy.bind(null,e.eventManager),e}function tg(t){var e=Pc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ny.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dy.bind(null,e),e}var eg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return this.R=Tm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Pp(this.persistence,new jp,t.initialUser,this.R)},t.prototype.qo=function(t){return new rm(om.bs,this.R)},t.prototype.Bo=function(t){return new ym},t.prototype.terminate=function(){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ec.c)(e,t),e.prototype.initialize=function(e){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$p(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,tg(this.Ko.syncEngine)];case 4:return n.sent(),[4,$m(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Pp(this.persistence,new jp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new fp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ap(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jd.withCacheSize(this.cacheSizeBytes):Jd.DEFAULT;return new Ip(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Sm(),Em(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ym},e}(eg),rg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ec.c)(e,t),e.prototype.initialize=function(e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof mm?(this.sharedClientState.syncEngine={ui:Ky.bind(null,n),ai:Yy.bind(null,n),hi:Zy.bind(null,n),fn:Jy.bind(null,n),ci:Gy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(Ec.b)(r,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return[4,$y(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Sm();if(!mm.yt(e))throw new Ic(Oc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ap(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ng),ig=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n=this;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ay(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=By.bind(null,this.syncEngine),[4,ty(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new cy},t.prototype.createDatastore=function(t){var e=Tm(t.databaseInfo.databaseId),n=new _m(t.databaseInfo);return function(t,e,n){return new Am(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ay(s.syncEngine,t,0)},o=vm.yt()?new vm:new gm,new Nm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ey(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return e=Pc(t),Ac("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,jm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),og=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),sg=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new md,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new yy(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ic(Oc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Ec.d)(this,(function(u){switch(u.label){case 0:return n=Pc(t),r=Cf(n.R)+"/documents",i={documents:e.map((function(t){return Ef(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Rc(!!e.found);var n=Tf(t,e.found.name),r=wf(e.found.updateTime),i=new wl({mapValue:{fields:e.found.fields}});return Sl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Rc(!!e.missing),Rc(!!e.readTime);var n=Tf(t,e.missing),r=wf(e.readTime);return Sl.newNoDocument(n,r)}(t,e):jc()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Rc(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Mh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=al.fromPath(n);e.mutations.push(new Uh(r,e.precondition(r)))})),[4,function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return n=Pc(t),r=Cf(n.R)+"/documents",i={writes:e.map((function(t){return Nf(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw jc();e=Bc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ic(Oc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Eh.updateTime(e):Eh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Bc.min()))throw new Ic(Oc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Eh.updateTime(e)}return Eh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ag=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Om(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(Ec.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Ec.d)(this,(function(r){return t=new sg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!il(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!qh(e)}return!1},t}(),ug=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=sm.UNAUTHENTICATED,this.clientId=Fc.u(),this.credentialListener=function(){},this.receivedInitialUser=new md,this.credentials.setChangeListener((function(t){Ac("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ic(Oc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new md;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ec.b)(t,void 0,void 0,(function(){var t,n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=iy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function cg(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ac("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Object(Ec.b)(i,void 0,void 0,(function(){return Object(Ec.d)(this,(function(t){switch(t.label){case 0:return[4,Lp(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function lg(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,hg(t)];case 1:return n=i.sent(),Ac("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(Ec.b)(this,void 0,void 0,(function(){var n,r;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return(n=Pc(t)).asyncQueue.verifyOperationInProgress(),Ac("RemoteStore","RemoteStore received new credentials"),r=Vm(n),n.$r.add(3),[4,jm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Dm(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function hg(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ac("FirestoreClient","Using default OfflineComponentProvider"),[4,cg(t,new eg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function fg(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ac("FirestoreClient","Using default OnlineComponentProvider"),[4,lg(t,new ig)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function dg(t){return hg(t).then((function(t){return t.persistence}))}function pg(t){return hg(t).then((function(t){return t.localStore}))}function mg(t){return fg(t).then((function(t){return t.remoteStore}))}function yg(t){return fg(t).then((function(t){return t.syncEngine}))}function gg(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e,n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return[4,fg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Ty.bind(null,e.syncEngine),n.onUnlisten=Iy.bind(null,e.syncEngine),n)]}}))}))}function vg(t,e,n){var r=this;void 0===n&&(n={});var i=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(r,void 0,void 0,(function(){var r;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new og({next:function(o){e.enqueueAndForget((function(){return hy(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ic(Oc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ic(Oc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new my(Gl(n.path),o,{includeMetadataChanges:!0,so:!0});return ly(t,s)},[4,gg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function bg(t,e,n){var r=this;void 0===n&&(n={});var i=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(r,void 0,void 0,(function(){var r;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new og({next:function(n){e.enqueueAndForget((function(){return hy(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Ic(Oc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new my(n,o,{includeMetadataChanges:!0,so:!0});return ly(t,s)},[4,gg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var wg=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},_g=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Sg=new Map,Eg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Tg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(sm.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Og=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ig=function(){function t(t){var e=this;this.oc=null,this.currentUser=sm.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Ac("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Rc("string"==typeof n.accessToken),new Eg(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Rc(null===t||"string"==typeof t),new sm(t)},t}(),Cg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=sm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),xg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Cg(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(sm.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ag(t,e,n){if(!n)throw new Ic(Oc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function kg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ng(t,e,n,r){if(!0===e&&!0===r)throw new Ic(Oc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dg(t){if(!al.isDocumentKey(t))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jg(t){if(al.isDocumentKey(t))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Rg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":jc()}function Pg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ic(Oc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rg(t);throw new Ic(Oc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Lg(t,e){if(e<=0)throw new Ic(Oc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Fg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ic(Oc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ic(Oc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ng("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Mg=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fg({}),this._settingsFrozen=!1,t instanceof _g?(this._databaseId=t,this._credentials=new Tg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ic(Oc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _g(t.options.projectId)}(t),this._credentials=new Ig(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ic(Oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ic(Oc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Tg;switch(t.type){case"gapi":var e=t.client;return Rc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ic(Oc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Sg.get(this))&&(Ac("ComponentProvider","Removing Datastore"),Sg.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ug=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vg=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gl(r))||this)._path=r,i.type="collection",i}return Object(Ec.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ug(this.firestore,null,new al(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vg);function Bg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(So.h)(t),Ag("collection","path",e),t instanceof Mg)return jg(n=$c.fromString.apply($c,Object(Ec.f)([e],r))),new qg(t,null,n);if(!(t instanceof Ug||t instanceof qg))throw new Ic(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jg(n=$c.fromString.apply($c,Object(Ec.f)([t.path],r)).child($c.fromString(e))),new qg(t.firestore,null,n)}function Hg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(So.h)(t),1===arguments.length&&(e=Fc.u()),Ag("doc","path",e),t instanceof Mg)return Dg(n=$c.fromString.apply($c,Object(Ec.f)([e],r))),new Ug(t,null,new al(n));if(!(t instanceof Ug||t instanceof qg))throw new Ic(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dg(n=t._path.child($c.fromString.apply($c,Object(Ec.f)([e],r)))),new Ug(t.firestore,t instanceof qg?t.converter:null,new al(n))}function zg(t,e){return t=Object(So.h)(t),e=Object(So.h)(e),(t instanceof Ug||t instanceof qg)&&(e instanceof Ug||e instanceof qg)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Gg(t,e){return t=Object(So.h)(t),e=Object(So.h)(e),t instanceof Vg&&e instanceof Vg&&t.firestore===e.firestore&&th(t._query,e._query)&&t.converter===e.converter}var Kg=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Om(this,"async_queue_retry"),this.Ec=function(){var e=Em();e&&Ac("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!_d(t=n.sent()))throw t;return Ac("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,kc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=ry.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&jc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Ec.b)(this,void 0,void 0,(function(){var t;return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function $g(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new md,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Kg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ec.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Jg(this),this._firestoreClient.terminate()},e}(Mg);function Wg(t){return t._firestoreClient||Jg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jg(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new wg(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ug(t._credentials,t._queue,r)}function Yg(t,e,n){var r=this,i=new md;return t.asyncQueue.enqueue((function(){return Object(Ec.b)(r,void 0,void 0,(function(){var r;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cg(t,n)];case 1:return o.sent(),[4,lg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Oc.FAILED_PRECONDITION||t.code===Oc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Zg(t){if(t._initialized||t._terminated)throw new Ic(Oc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),tv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Yc.fromBase64String(e))}catch(e){throw new Ic(Oc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Yc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ev=function(t){this._methodName=t},nv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ic(Oc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ic(Oc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Mc(this._lat,t._lat)||Mc(this._long,t._long)},t}(),rv=/^__.*__$/,iv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Dh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Nh(t,this.data,e,this.fieldTransforms)},t}(),ov=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Dh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function sv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jc()}}var av=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Cv(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(sv(this.Dc)&&rv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),uv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Tm(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new av({Dc:t,methodName:e,Lc:n,path:Wc.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function cv(t){var e=t._freezeSettings(),n=Tm(t._databaseId);return new uv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Ev("Data must be an object, but it was:",s,r);var a,u,c=_v(r,s);if(o.merge)a=new Jc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Tv(e,f[h],n);if(!s.contains(d))throw new Ic(Oc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");xv(l,d)||l.push(d)}a=new Jc(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new iv(new wl(c),a,u)}var hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ev);function fv(t,e,n){return new av({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var dv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype._toFieldTransform=function(t){return new _h(t.path,new dh)},e.prototype.isEqual=function(t){return t instanceof e},e}(ev),pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Ec.c)(e,t),e.prototype._toFieldTransform=function(t){var e=fv(this,t,!0),n=this.qc.map((function(t){return wv(t,e)})),r=new ph(n);return new _h(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ev),mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Ec.c)(e,t),e.prototype._toFieldTransform=function(t){var e=fv(this,t,!0),n=this.qc.map((function(t){return wv(t,e)})),r=new yh(n);return new _h(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ev),yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Ec.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new vh(t.R,uh(t.R,this.Uc));return new _h(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ev);function gv(t,e,n,r){var i=t.Bc(1,e,n);Ev("Data must be an object, but it was:",i,r);var o=[],s=wl.empty();zc(r,(function(t,r){var a=Iv(e,t,n);r=Object(So.h)(r);var u=i.kc(a);if(r instanceof hv)o.push(a);else{var c=wv(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Jc(o);return new ov(s,a,i.fieldTransforms)}function vv(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[Tv(e,r,n)],u=[i];if(o.length%2!=0)throw new Ic(Oc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Tv(e,o[c])),u.push(o[c+1]);for(var l=[],h=wl.empty(),f=a.length-1;f>=0;--f)if(!xv(l,a[f])){var d=a[f],p=u[f];p=Object(So.h)(p);var m=s.kc(d);if(p instanceof hv)l.push(d);else{var y=wv(p,m);null!=y&&(l.push(d),h.set(d,y))}}var g=new Jc(l);return new ov(h,g,s.fieldTransforms)}function bv(t,e,n,r){return void 0===r&&(r=!1),wv(n,t.Bc(r?4:3,e))}function wv(t,e){if(Sv(t=Object(So.h)(t)))return Ev("Unsupported field value:",e,t),_v(t,e);if(t instanceof ev)return function(t,e){if(!sv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=wv(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(So.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=qc.fromDate(t);return{timestampValue:gf(e.R,n)}}if(t instanceof qc)return n=new qc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:gf(e.R,n)};if(t instanceof nv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tv)return{bytesValue:vf(e.R,t._byteString)};if(t instanceof Ug){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_f(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Rg(t))}(t,e)}function _v(t,e){var n={};return Gc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zc(t,(function(t,r){var i=wv(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Sv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qc||t instanceof nv||t instanceof tv||t instanceof Ug||t instanceof ev)}function Ev(t,e,n){if(!Sv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Rg(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Tv(t,e,n){if((e=Object(So.h)(e))instanceof Xg)return e._internalPath;if("string"==typeof e)return Iv(t,e);throw Cv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ov=new RegExp("[~\\*/\\[\\]]");function Iv(t,e,n){if(e.search(Ov)>=0)throw Cv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Xg.bind.apply(Xg,Object(Ec.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Cv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ic(Oc.INVALID_ARGUMENT,(a+=". ")+t+u)}function xv(t,e){return t.some((function(t){return t.isEqual(e)}))}var Av=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ug(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new kv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Nv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Av);function Nv(t,e){return"string"==typeof e?Iv(t,e):e instanceof Xg?e._internalPath:e._delegate._internalPath}var Dv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),jv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ec.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Rv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Nv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Av),Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(jv),Pv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Rv(n._firestore,n._userDataWriter,r.key,r,new Dv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ic(Oc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Rv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Rv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Lv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Lv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jc()}}function Fv(t,e){return t instanceof jv&&e instanceof jv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Pv&&e instanceof Pv&&t._firestore===e._firestore&&Gg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Mv(t){if($l(t)&&0===t.explicitOrderBy.length)throw new Ic(Oc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uv=function(){};function Vv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Ec.c)(e,t),e.prototype._apply=function(t){var e=cv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Qv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($v(r,t,l[c]));a={arrayValue:{values:u}}}else a=$v(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Qv(s,o),a=bv(n,"where",s,"in"===o||"not-in"===o);var h=xl.create(i,o,a);return function(t,e){if(e.g()){var n=Wl(t);if(null!==n&&!n.isEqual(e.field))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ql(t);null!==r&&Wv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ic(Oc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Vg(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Uv),Bv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Ec.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ul(e,n);return function(t,e){if(null===Ql(t)){var n=Wl(t);null!==n&&Wv(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Vg(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Hl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Uv),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Ec.c)(e,t),e.prototype._apply=function(t){return new Vg(t.firestore,t.converter,Xl(t._query,this.Gc,this.zc))},e}(Uv),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ec.c)(e,t),e.prototype._apply=function(t){var e=Kv(t,this.type,this.Hc,this.Jc);return new Vg(t.firestore,t.converter,function(t,e){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Uv),Gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ec.c)(e,t),e.prototype._apply=function(t){var e=Kv(t,this.type,this.Hc,this.Jc);return new Vg(t.firestore,t.converter,function(t,e){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Uv);function Kv(t,e,n,r){if(n[0]=Object(So.h)(n[0]),n[0]instanceof Av)return function(t,e,n,r,i){if(!r)throw new Ic(Oc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Yl(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(pl(e,r.key));else{var c=r.data.field(u.field);if(nl(c))throw new Ic(Oc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=cv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ic(Oc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Jl(t)&&-1!==c.indexOf("/"))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($c.fromString(c));if(!al.isDocumentKey(l))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new al(l);a.push(pl(e,h))}else{var f=bv(n,r,c);a.push(f)}}return new Fl(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function $v(t,e,n){if("string"==typeof(n=Object(So.h)(n))){if(""===n)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jl(e)&&-1!==n.indexOf("/"))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($c.fromString(n));if(!al.isDocumentKey(r))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pl(t,new al(r))}if(n instanceof Ug)return pl(t,n._key);throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rg(n)+".")}function Qv(t,e){if(!Array.isArray(t)||0===t.length)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wv(t,e,n){if(!n.isEqual(e))throw new Ic(Oc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Jv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ul(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(el(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw jc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return zc(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new nv(tl(t.latitude),tl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return nl(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Xc(t);return new qc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=$c.fromString(t);Rc(Gf(n));var r=new _g(n.get(1),n.get(3)),i=new al(n.popFirst(5));return r.isEqual(e)||kc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Yv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ec.c)(e,t),e.prototype.convertBytes=function(t){return new tv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ug(this.firestore,null,e)},e}(Jv),Xv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=tb(t,this._firestore),i=Yv(r.converter,e,n),o=lv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Eh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=tb(t,this._firestore);return o="string"==typeof(e=Object(So.h)(e))||e instanceof Xg?vv(this._dataReader,"WriteBatch.update",s._key,e,n,r):gv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Eh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=tb(t,this._firestore);return this._mutations=this._mutations.concat(new Mh(e._key,Eh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ic(Oc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function tb(t,e){if((t=Object(So.h)(t)).firestore!==e)throw new Ic(Oc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ec.c)(e,t),e.prototype.convertBytes=function(t){return new tv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ug(this.firestore,null,e)},e}(Jv);function nb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Pg(t,Ug);var o=Pg(t.firestore,Qg),s=cv(o);return ib(o,[("string"==typeof(e=Object(So.h)(e))||e instanceof Xg?vv(s,"updateDoc",t._key,e,n,r):gv(s,"updateDoc",t._key,e)).toMutation(t._key,Eh.exists(!0))])}function rb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(So.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||$g(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if($g(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ug)c=Pg(t.firestore,Qg),l=Gl(t._key.path),u={next:function(e){i[a]&&i[a](ob(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Pg(t,Vg);c=Pg(d.firestore,Qg),l=d._query;var p=new eb(c);u={next:function(t){i[a]&&i[a](new Pv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Mv(t._query)}return function(t,e,n,r){var i=this,o=new og(r),s=new my(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(i,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return e=ly,[4,gg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(i,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return e=hy,[4,gg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Wg(c),l,h,u)}function ib(t,e){return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(n,void 0,void 0,(function(){var n;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return n=Cy,[4,yg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Wg(t),e)}function ob(t,e,n){var r=n.docs.get(e._key),i=new eb(t);return new jv(t,i,e._key,r,new Dv(n.hasPendingWrites,n.fromCache),e.converter)}var sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ec.c)(e,t),e.prototype.get=function(e){var n=this,r=tb(e,this._firestore),i=new eb(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new jv(n._firestore,i,r._key,t._document,new Dv(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=cv(t)}return t.prototype.get=function(t){var e=this,n=tb(t,this._firestore),r=new Zv(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return jc();var i=t[0];if(i.isFoundDocument())return new Av(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Av(e._firestore,r,n._key,null,n.converter);throw jc()}))},t.prototype.set=function(t,e,n){var r=tb(t,this._firestore),i=Yv(r.converter,e,n),o=lv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=tb(t,this._firestore);return o="string"==typeof(e=Object(So.h)(e))||e instanceof Xg?vv(this._dataReader,"Transaction.update",s._key,e,n,r):gv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=tb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ab(){if("undefined"==typeof Uint8Array)throw new Ic(Oc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ub(){if("undefined"==typeof atob)throw new Ic(Oc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var cb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return ub(),new t(tv.fromBase64String(e))},t.fromUint8Array=function(e){return ab(),new t(tv.fromUint8Array(e))},t.prototype.toBase64=function(){return ub(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ab(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),lb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zg(t=Pg(t,Qg));var n=Wg(t),r=t._freezeSettings(),i=new ig;return Yg(n,i,new ng(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zg(t=Pg(t,Qg));var e=Wg(t),n=t._freezeSettings(),r=new ig;return Yg(e,r,new rg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ic(Oc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new md;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ec.b)(e,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ec.b)(this,void 0,void 0,(function(){return Object(Ec.d)(this,(function(e){switch(e.label){case 0:return vd.yt()?[4,vd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Ap(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),hb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof _g||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Pg(t,Mg))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(So.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ic(Oc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Og(new Eg(o,new sm(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ec.b)(e,void 0,void 0,(function(){var e,n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return[4,dg(t)];case 1:return e=r.sent(),[4,mg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Pc(t);return e.$r.delete(0),Dm(e)}(n))]}}))}))}))}(Wg(Pg(this._delegate,Qg)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ec.b)(e,void 0,void 0,(function(){var e,n;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return[4,dg(t)];case 1:return e=r.sent(),[4,mg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ec.b)(this,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return(e=Pc(t)).$r.add(0),[4,jm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Wg(Pg(this._delegate,Qg)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ng("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(e,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(r){switch(r.label){case 0:return e=jy,[4,yg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Wg(Pg(this._delegate,Qg)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new og(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(n,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pc(t).Gr.add(e),e.next()},[4,gg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(n,void 0,void 0,(function(){var e;return Object(Ec.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pc(t).Gr.delete(e)},[4,gg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Wg(t=Pg(t,Qg)),$g(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Ic(Oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ob(this,Bg(this._delegate,t))}catch(t){throw gb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new yb(this,Hg(this._delegate,t))}catch(t){throw gb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Sb(this,function(t,e){if(t=Pg(t,Mg),Ag("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vg(t,null,function(t){return new Hl($c.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw gb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(n,void 0,void 0,(function(){var n;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return fg(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new ag(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Wg(t),(function(n){return e(new sb(t,n))}))}(this._delegate,(function(n){return t(new db(e,n))}))},t.prototype.batch=function(){var t=this;return Wg(this._delegate),new pb(new Xv(this._delegate,(function(e){return ib(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ic(Oc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ic(Oc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),fb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ec.c)(e,t),e.prototype.convertBytes=function(t){return new cb(new tv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return yb.Zc(e,this.firestore,null)},e}(Jv),db=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new fb(t)}return t.prototype.get=function(t){var e=this,n=Ib(t);return this._delegate.get(n).then((function(t){return new wb(e._firestore,new jv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Ib(t);return n?(kg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ib(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ec.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Ib(t);return this._delegate.delete(e),this},t}(),pb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ib(t);return n?(kg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ib(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ec.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Ib(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),mb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Rv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _b(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new fb(e),n),i.set(n,o)),o},t}();mb.eu=new WeakMap;var yb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fb(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Ic(Oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ug(n._delegate,r,new al(e)))},t.Zc=function(e,n,r){return new t(n,new Ug(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ob(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ob(this.firestore,Bg(this._delegate,t))}catch(t){throw gb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(So.h)(t))instanceof Ug&&zg(this._delegate,t)},t.prototype.set=function(t,e){e=kg("DocumentReference.set",e);try{return function(t,e,n){t=Pg(t,Ug);var r=Pg(t.firestore,Qg),i=Yv(t.converter,e,n);return ib(r,[lv(cv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Eh.none())])}(this._delegate,t,e)}catch(t){throw gb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?nb(this._delegate,t):nb.apply(void 0,Object(Ec.f)([this._delegate,t,e],n))}catch(t){throw gb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ib(Pg((t=this._delegate).firestore,Qg),[new Mh(t._key,Eh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vb(e),i=bb(e,(function(e){return new wb(t.firestore,new jv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return rb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Pg(t,Ug);var e=Pg(t.firestore,Qg),n=Wg(e),r=new eb(e);return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(n,void 0,void 0,(function(){var n;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i;return Object(Ec.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Pc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ic(Oc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=iy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,pg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new jv(e,r,t._key,n,new Dv(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Pg(t,Ug);var e=Pg(t.firestore,Qg);return vg(Wg(e),t._key,{source:"server"}).then((function(n){return ob(e,t,n)}))}(this._delegate):function(t){t=Pg(t,Ug);var e=Pg(t.firestore,Qg);return vg(Wg(e),t._key).then((function(n){return ob(e,t,n)}))}(this._delegate)).then((function(t){return new wb(e.firestore,new jv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?mb.tu(this.firestore,e):null))},t}();function gb(t,e,n){return t.message=t.message.replace(e,n),t}function vb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$g(r))return r}return{}}function bb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$g(t[0])?t[0]:$g(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new yb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Fv(this._delegate,t._delegate)},t}(),_b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ec.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(wb),Sb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Vv(this._delegate,function(t,e,n){var r=e,i=Nv("where",t);return new qv(i,r,n)}(e,n,r)))}catch(e){throw gb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Vv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Nv("orderBy",t);return new Bv(r,n)}(e,n)))}catch(e){throw gb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Vv(this._delegate,function(t){return Lg("limit",t),new Hv("limit",t,"F")}(e)))}catch(e){throw gb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Vv(this._delegate,function(t){return Lg("limitToLast",t),new Hv("limitToLast",t,"L")}(e)))}catch(e){throw gb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw gb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw gb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw gb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw gb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Gg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Pg(t,Vg);var e=Pg(t.firestore,Qg),n=Wg(e),r=new eb(e);return function(t,e){var n=this,r=new md;return t.asyncQueue.enqueueAndForget((function(){return Object(Ec.b)(n,void 0,void 0,(function(){var n;return Object(Ec.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ec.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Ec.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,zp(t,e,!0)];case 1:return a=u.sent(),r=new wy(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=iy(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,pg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Pv(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Pg(t,Vg);var e=Pg(t.firestore,Qg),n=Wg(e),r=new eb(e);return bg(n,t._query,{source:"server"}).then((function(n){return new Pv(e,r,t,n)}))}(this._delegate):function(t){t=Pg(t,Vg);var e=Pg(t.firestore,Qg),n=Wg(e),r=new eb(e);return Mv(t._query),bg(n,t._query).then((function(n){return new Pv(e,r,t,n)}))}(this._delegate)).then((function(t){return new Tb(e.firestore,new Pv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vb(e),i=bb(e,(function(e){return new Tb(t.firestore,new Pv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return rb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?mb.tu(this.firestore,e):null))},t}(),Eb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new _b(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Tb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Sb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new _b(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Eb(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new _b(n._firestore,r))}))},t.prototype.isEqual=function(t){return Fv(this._delegate,t._delegate)},t}(),Ob=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ec.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new yb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yb(this.firestore,void 0===t?Hg(this._delegate):Hg(this._delegate,t))}catch(t){throw gb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Pg(t.firestore,Qg),r=Hg(t),i=Yv(t.converter,e);return ib(n,[lv(cv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Eh.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new yb(e.firestore,t)}))},e.prototype.isEqual=function(t){return zg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?mb.tu(this.firestore,t):null))},e}(Sb);function Ib(t){return Pg(t,Ug)}var Cb,xb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Xg.bind.apply(Xg,Object(Ec.f)([void 0],t)))}return t.documentId=function(){return new t(Wc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(So.h)(t))instanceof Xg&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ab=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new dv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new hv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new yv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),kb=n("/6Yf"),Nb={Firestore:hb,GeoPoint:nv,Timestamp:qc,Blob:cb,Transaction:db,WriteBatch:pb,DocumentReference:yb,DocumentSnapshot:wb,Query:Sb,QueryDocumentSnapshot:_b,QuerySnapshot:Tb,CollectionReference:Ob,FieldPath:xb,FieldValue:Ab,setLogLevel:function(t){Cc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new kb.a("firestore",(function(t){return function(t,e){return new hb(t,new Qg(t,e),new lb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Nb)))})(Cb=_o.a),Cb.registerVersion("@firebase/firestore","2.3.0"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");const Db=new r.q("angularfire2.auth.use-emulator");function jb(t,e){return function(t,e=ho.a){return new Bt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Rb(t,e){return jb(t,e).pipe(Object(Wt.a)(t=>({payload:t,type:"query"})))}function Pb(t,e){return Rb(t,e).pipe(bn(void 0),fo(),Object(Wt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Lb(t,e,n){return Pb(t,n).pipe(wn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Fb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Fb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Fb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new yo(void 0,void 0)),Object(Wt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Fb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Mb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Ub{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Pb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(bn(void 0),fo(),Kt(([t,e])=>e.length>0||!t),Object(Wt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Mb(t);return Lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Rb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xe.a)(this.query.get(t)).pipe(Object(vo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Vb(this.ref.doc(t),this.afs)}}class Vb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Kb(n,e);return new Ub(r,i,this.afs)}snapshotChanges(){return jb(this.ref,this.afs.schedulers.outsideAngular).pipe(bn(void 0),fo(),Object(Wt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Wt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(xe.a)(this.ref.get(t)).pipe(Object(vo.b)(this.afs.schedulers.insideAngular))}}class qb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Pb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Pb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Mb(t);return Lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Rb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(xe.a)(this.query.get(t)).pipe(Object(vo.b)(this.afs.schedulers.insideAngular))}}const Bb=new r.q("angularfire2.enableFirestorePersistence"),Hb=new r.q("angularfire2.firestore.persistenceSettings"),zb=new r.q("angularfire2.firestore.settings"),Gb=new r.q("angularfire2.firestore.use-emulator");function Kb(t,e=(t=>t)){return{query:e(t),ref:t}}let $b=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new bo.d(o),this.keepUnstableUntilFirst=Object(bo.h)(this.schedulers);const c=Object(bo.g)(t,o,e);!wo.a.auth&&u&&Object(bo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(bo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(xe.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Cb){return"undefined"!=typeof console&&console.warn(Cb),Object(qt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(qt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Kb(n,e),o=this.schedulers.ngZone.run(()=>r);return new Ub(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new qb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Vb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(bo.c),r.Jb(bo.b,8),r.Jb(Bb,8),r.Jb(zb,8),r.Jb(r.B),r.Jb(r.z),r.Jb(Hb,8),r.Jb(Gb,8),r.Jb(Db,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(bo.c),Object(r.Jb)(bo.b,8),Object(r.Jb)(Bb,8),Object(r.Jb)(zb,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(Hb,8),Object(r.Jb)(Gb,8),Object(r.Jb)(Db,8))},token:t,providedIn:"any"}),t})(),Qb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Bb,useValue:!0},{provide:Hb,useValue:e}]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[$b]}),t})();function Wb(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function Jb(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function Yb(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function Zb(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function Xb(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function tw(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function ew(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function nw(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function rw(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function iw(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function ow(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function sw(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function aw(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function uw(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}function cw(t,e){1&t&&(r.Hb(0,"div"),r.Vb(1," NO SLOTS "),r.Gb())}function lw(t,e){if(1&t&&(r.Hb(0,"ul",24),r.Hb(1,"li"),r.Vb(2),r.Gb(),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Xb("",t.city," : ",t.vaccineDate," : ",t.count,"")}}let hw=(()=>{class t{constructor(t,e){this.vaccineService=t,this.db=e,this.model={},this.availableVaccine={},this.vaccineChittorgarh=[],this.vaccinePratapgarh=[],this.vaccineUdaipur=[],this.vaccineBhilwara=[],this.vaccineNeemuch=[],this.vaccineRatlam=[],this.vaccineUjjain=[],this.vaccineMandsaur=[]}ngOnInit(){this.getAndUpdateWebsiteHits(),this.vaccineChittorgarh=[],this.vaccinePratapgarh=[],this.vaccineUdaipur=[],this.vaccineBhilwara=[],this.vaccineNeemuch=[],this.vaccineRatlam=[],this.vaccineUjjain=[],this.vaccineMandsaur=[],this.findVaccineChittorgarh(),this.findVaccinePratapgarh(),this.findVaccineUdaipur(),this.findVaccineBhilwara(),this.findVaccineNeemuch(),this.findVaccineMandsaur(),this.findVaccineRatlam(),this.findVaccineUjjain()}getAndUpdateWebsiteHits(){this.db.collection("Visitors").doc("1").get().subscribe(t=>{this.totalHits=t.data().counter,console.log(this.totalHits);let e={counter:this.totalHits+1};this.db.collection("Visitors").doc("1").set(e).finally()})}findVaccineChittorgarh(){this.vaccineService.findVaccineChittorgarh(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineChittorgarh.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccinePratapgarh(){this.vaccineService.findVaccinePratapgarh(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccinePratapgarh.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccineUdaipur(){this.vaccineService.findVaccineUdaipur(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineUdaipur.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccineBhilwara(){this.vaccineService.findVaccineBhilwara(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineBhilwara.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccineNeemuch(){this.vaccineService.findVaccineNeemuch(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineNeemuch.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccineRatlam(){this.vaccineService.findVaccineRatlam(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineRatlam.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccineUjjain(){this.vaccineService.findVaccineUjjain(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineUjjain.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}findVaccineMandsaur(){this.vaccineService.findVaccineMandsaur(this.model).subscribe(t=>{this.vaccineData=t,this.vaccineData.centers.forEach(t=>{null!=t.sessions&&t.sessions.forEach(e=>{18==e.min_age_limit&&e.available_capacity>0&&this.vaccineMandsaur.push({city:t.name,count:e.available_capacity,vaccineDate:e.date})})})},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(lo),r.Eb($b))},t.\u0275cmp=r.yb({type:t,selectors:[["app-vaccine"]],decls:93,vars:17,consts:[[1,"container","py-3"],[1,"d-flex","flex-column","flex-md-row","align-items-center","pb-1","mb-2","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],[1,"fs-4"],[1,"d-inline-flex","mt-2","mt-md-0","ms-md-auto"],[1,"me-3","py-2","text-dark","text-decoration-none","vertical-center"],["href","https://www.instagram.com/vimal_aanjna/","role","button",1,"btn","btn-outline-primary","instagramBtn","vertical-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-instagram"],["d","M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"],[1,"pricing-header","p-1","pb-md-2","mx-auto","text-center"],[1,"display-4","fw-normal"],["href","https://selfregistration.cowin.gov.in/","role","button",1,"btn","btn-primary","btn-lg","slotButton"],["onClick","window.location.reload();",1,"btn","btn-primary","btn-lg","slotButton"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center"],[1,"col"],[1,"card","mb-4","rounded-3","shadow-sm","border-primary"],[1,"card-header","py-3","text-white","bg-primary","border-primary"],[1,"my-0","fw-normal"],[1,"card-body"],[4,"ngIf"],["class","list-unstyled mt-1 mb-1",4,"ngFor","ngForOf"],[1,"footer"],[1,"d-grid","gap-2"],["href","#","tabindex","-1","role","button","aria-disabled","true",1,"btn","btn-primary","btn-lg","disabled"],[1,"list-unstyled","mt-1","mb-1"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"header"),r.Hb(2,"div",1),r.Hb(3,"a",2),r.Hb(4,"span",3),r.Vb(5,"Vaccination Availability"),r.Gb(),r.Gb(),r.Hb(6,"nav",4),r.Hb(7,"p",5),r.Vb(8,"Developed By : "),r.Gb(),r.Hb(9,"a",6),r.Pb(),r.Hb(10,"svg",7),r.Fb(11,"path",8),r.Gb(),r.Vb(12,"\xa0 Vimal Aanjna"),r.Gb(),r.Gb(),r.Gb(),r.Ob(),r.Hb(13,"div",9),r.Hb(14,"h1",10),r.Vb(15,"18+ Available Slots"),r.Gb(),r.Gb(),r.Hb(16,"div",9),r.Hb(17,"a",11),r.Vb(18,"Book Now"),r.Gb(),r.Hb(19,"button",12),r.Vb(20,"Refresh Slots"),r.Gb(),r.Gb(),r.Gb(),r.Hb(21,"main"),r.Hb(22,"div",13),r.Hb(23,"div",14),r.Hb(24,"div",15),r.Hb(25,"div",16),r.Hb(26,"h4",17),r.Vb(27,"Pratapgarh"),r.Gb(),r.Gb(),r.Hb(28,"div",18),r.Ub(29,Wb,2,0,"div",19),r.Ub(30,Jb,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Hb(31,"div",14),r.Hb(32,"div",15),r.Hb(33,"div",16),r.Hb(34,"h4",17),r.Vb(35,"Chittorgarh"),r.Gb(),r.Gb(),r.Hb(36,"div",18),r.Ub(37,Yb,2,0,"div",19),r.Ub(38,Zb,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Hb(39,"div",14),r.Hb(40,"div",15),r.Hb(41,"div",16),r.Hb(42,"h4",17),r.Vb(43,"Udaipur"),r.Gb(),r.Gb(),r.Hb(44,"div",18),r.Ub(45,Xb,2,0,"div",19),r.Ub(46,tw,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(47,"div",13),r.Hb(48,"div",14),r.Hb(49,"div",15),r.Hb(50,"div",16),r.Hb(51,"h4",17),r.Vb(52,"Bhilwara"),r.Gb(),r.Gb(),r.Hb(53,"div",18),r.Ub(54,ew,2,0,"div",19),r.Ub(55,nw,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Hb(56,"div",14),r.Hb(57,"div",15),r.Hb(58,"div",16),r.Hb(59,"h4",17),r.Vb(60,"Neemuch"),r.Gb(),r.Gb(),r.Hb(61,"div",18),r.Ub(62,rw,2,0,"div",19),r.Ub(63,iw,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Hb(64,"div",14),r.Hb(65,"div",15),r.Hb(66,"div",16),r.Hb(67,"h4",17),r.Vb(68,"Ujjain"),r.Gb(),r.Gb(),r.Hb(69,"div",18),r.Ub(70,ow,2,0,"div",19),r.Ub(71,sw,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(72,"div",13),r.Hb(73,"div",14),r.Hb(74,"div",15),r.Hb(75,"div",16),r.Hb(76,"h4",17),r.Vb(77,"Mandsaur"),r.Gb(),r.Gb(),r.Hb(78,"div",18),r.Ub(79,aw,2,0,"div",19),r.Ub(80,uw,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Hb(81,"div",14),r.Hb(82,"div",15),r.Hb(83,"div",16),r.Hb(84,"h4",17),r.Vb(85,"Ratlam"),r.Gb(),r.Gb(),r.Hb(86,"div",18),r.Ub(87,cw,2,0,"div",19),r.Ub(88,lw,3,3,"ul",20),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Hb(89,"div",21),r.Hb(90,"div",22),r.Hb(91,"a",23),r.Vb(92),r.Gb(),r.Gb(),r.Gb(),r.Gb()),2&t&&(r.vb(29),r.Qb("ngIf",(null==e.vaccinePratapgarh?null:e.vaccinePratapgarh.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccinePratapgarh),r.vb(7),r.Qb("ngIf",(null==e.vaccineChittorgarh?null:e.vaccineChittorgarh.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineChittorgarh),r.vb(7),r.Qb("ngIf",(null==e.vaccineUdaipur?null:e.vaccineUdaipur.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineUdaipur),r.vb(8),r.Qb("ngIf",(null==e.vaccineBhilwara?null:e.vaccineBhilwara.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineBhilwara),r.vb(7),r.Qb("ngIf",(null==e.vaccineNeemuch?null:e.vaccineNeemuch.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineNeemuch),r.vb(7),r.Qb("ngIf",(null==e.vaccineUjjain?null:e.vaccineUjjain.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineUjjain),r.vb(8),r.Qb("ngIf",(null==e.vaccineMandsaur?null:e.vaccineMandsaur.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineMandsaur),r.vb(7),r.Qb("ngIf",(null==e.vaccineRatlam?null:e.vaccineRatlam.length)<=0),r.vb(1),r.Qb("ngForOf",e.vaccineRatlam),r.vb(4),r.Wb("Website Hits : ",e.totalHits,""))},directives:[it,nt],styles:["body[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#eee,#fff 100px,#fff)}.container[_ngcontent-%COMP%]{max-width:960px}.pricing-header[_ngcontent-%COMP%]{max-width:700px}.slotButton[_ngcontent-%COMP%]{margin:5px}.vertical-center[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.instagramBtn[_ngcontent-%COMP%]{height:30px;display:inline-flex;align-items:center}"]}),t})(),fw=(()=>{class t{constructor(){this.title="vaccination"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Fb(0,"app-vaccine")},directives:[hw],styles:[""]}),t})();class dw{}function pw(t,e=null){return{type:2,steps:t,options:e}}function mw(t){return{type:6,styles:t,offset:null}}function yw(t){Promise.resolve(null).then(t)}class gw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?yw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function bw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ww(t){switch(t.length){case 0:return new gw;case 1:return t[0];default:return new vw(t)}}function _w(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Sw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ew(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ew(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ew(n,"destroy",t)))}}function Ew(t,e,n){const r=n.totalTime,i=Tw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Tw(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ow(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Iw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Cw=(t,e)=>!1,xw=(t,e)=>!1,Aw=(t,e,n)=>[];const kw=bw();(kw||"undefined"!=typeof Element)&&(Cw=(t,e)=>t.contains(e),xw=(()=>{if(kw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):xw}})(),Aw=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Nw=null,Dw=!1;function jw(t){Nw||(Nw=("undefined"!=typeof document?document.body:null)||{},Dw=!!Nw.style&&"WebkitAppearance"in Nw.style);let e=!0;return Nw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Nw.style,!e&&Dw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Nw.style),e}const Rw=xw,Pw=Cw,Lw=Aw;function Fw(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Mw=(()=>{class t{validateStyleProperty(t){return jw(t)}matchesElement(t,e){return Rw(t,e)}containsElement(t,e){return Pw(t,e)}query(t,e,n){return Lw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new gw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Uw=(()=>{class t{}return t.NOOP=new Mw,t})();function Vw(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qw(parseFloat(e[1]),e[2])}function qw(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Bw(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=qw(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=qw(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Hw(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function zw(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Hw(t,n);return n}function Gw(t,e,n){return n?e+":"+n+";":""}function Kw(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Gw(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Gw(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function $w(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=e_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),bw()&&Kw(t))}function Qw(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=e_(e);t.style[n]=""}),bw()&&Kw(t))}function Ww(t){return Array.isArray(t)?1==t.length?t[0]:pw(t):t}const Jw=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yw(t){let e=[];if("string"==typeof t){let n;for(;n=Jw.exec(t);)e.push(n[1]);Jw.lastIndex=0}return e}function Zw(t,e,n){const r=t.toString(),i=r.replace(Jw,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Xw(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const t_=/-+([a-z0-9])/g;function e_(t){return t.replace(t_,(...t)=>t[1].toUpperCase())}function n_(t,e){return 0===t||0===e}function r_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=o_(t,e)}))}}return e}function i_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function o_(t,e){return window.getComputedStyle(t)[e]}function s_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(c_(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(c_(s,i))}(t,n,e)):n.push(t),n}const a_=new Set(["true","1"]),u_=new Set(["false","0"]);function c_(t,e){const n=a_.has(t)||u_.has(t),r=a_.has(e)||u_.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?a_.has(t):u_.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?a_.has(e):u_.has(e)),s&&a}}const l_=new RegExp("s*:selfs*,?","g");function h_(t,e,n){return new f_(t).build(e,n)}class f_{constructor(t){this._driver=t}build(t,e){const n=new d_(e);return this._resetContextStyleTimingState(n),i_(this,Ww(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(p_(t)){const e=t;Object.keys(e).forEach(t=>{Yw(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Xw(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=i_(this,Ww(t.animation),e);return{type:1,matchers:s_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:m_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>i_(this,t,e)),options:m_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=i_(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:m_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return y_(Bw(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=y_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Bw(r,e),y_(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:mw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=mw(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(p_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Yw(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(p_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(p_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=f+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:i_(this,Ww(t.animation),e),options:m_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:m_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:m_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(l_,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ow(e.collectedStyles,e.currentQuerySelector,{});const s=i_(this,Ww(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:m_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Bw(t.timings,e.errors,!0);return{type:12,animation:i_(this,Ww(t.animation),e),timings:n,options:null}}}class d_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function p_(t){return!Array.isArray(t)&&"object"==typeof t}function m_(t){var e;return t?(t=Hw(t)).params&&(t.params=(e=t.params)?Hw(e):null):t={},t}function y_(t,e,n){return{duration:t,delay:e,easing:n}}function g_(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class v_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const b_=new RegExp(":enter","g"),w_=new RegExp(":leave","g");function __(t,e,n,r,i,o={},s={},a,u,c=[]){return(new S_).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class S_{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new v_;const l=new T_(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),i_(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[g_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Vw(n.duration):null,o=null!=n.delay?Vw(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),i_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=E_);const t=Vw(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>i_(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Vw(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),i_(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Bw(e.params?Zw(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Vw(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=E_);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),i_(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;i_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const E_={};class T_{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=E_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new O_(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Vw(n.duration)),null!=n.delay&&(r.delay=Vw(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Zw(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new T_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=E_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new I_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(b_,"."+this._enterClassName)).replace(w_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class O_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new O_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):zw(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Zw(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=zw(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Xw(t.values()):[],o=e.size?Xw(e.values()):[];if(n){const t=r[0],e=Hw(t);t.offset=0,e.offset=1,r=[t,e]}return g_(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class I_ extends O_{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=zw(t[0],!1);a.offset=0,i.push(a);const u=zw(t[0],!1);u.offset=C_(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=zw(t[r],!1);s.offset=C_((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return g_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function C_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class x_{}class A_ extends x_{normalizePropertyName(t,e){return e_(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(k_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const k_=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function N_(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const D_={};class j_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||D_,f=this.buildStyles(n,s&&s.params||D_,l),d=a&&a.params||D_,p=this.buildStyles(r,d,l),m=new Set,y=new Map,g=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:__(t,e,this.ast.animation,i,o,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return N_(e,this._triggerName,n,r,v,f,p,[],[],y,g,_,l);w.forEach(t=>{const n=t.element,r=Ow(y,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ow(g,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=Xw(m.values());return N_(e,this._triggerName,n,r,v,f,p,w,S,y,g,_)}}class R_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Hw(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Zw(o,r,e)),n[t]=o})}}),n}}class P_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new R_(t.style,t.options&&t.options.params||{})}),L_(this.states,"true","1"),L_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new j_(t,e,this.states))}),this.fallbackTransition=new j_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function L_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const F_=new v_;class M_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=h_(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=_w(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=__(this._driver,e,i,"ng-enter","ng-leave",{},{},n,F_,r),o.forEach(t=>{const e=Ow(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=ww(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Tw(e,"","","");return Sw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const U_=[],V_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class B_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Hw(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const H_=new B_("void");class z_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Y_(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Ow(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Ow(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Y_(t,"ng-trigger"),Y_(t,"ng-trigger-"+e),a[e]=H_),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new K_(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Y_(t,"ng-trigger"),Y_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new B_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=H_),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Qw(t,n),$w(t,r)})}return}const c=Ow(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(Y_(t,"ng-animate-queued"),o.onStart(()=>{Z_(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ww(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||H_,s=new B_("void"),a=new K_(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==V_||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Y_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Tw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Sw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class G_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new z_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if($_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!$_(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Y_(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Z_(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if($_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return $_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ww(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=V_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Y_(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?ww(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new v_,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=J_(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>Y_(t,n))});const m=[],y=new Set,g=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),y.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>y.add(t)):g.add(t))}const v=new Map,b=J_(h,Array.from(y));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>Y_(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Z_(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Z_(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>Qw(i,p.fromStyles)),e.onDestroy(()=>$w(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Qw(i,p.fromStyles)),e.onDestroy(()=>$w(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ow(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ow(S,e,[]).push(t),t.destroy()})});const T=m.filter(t=>tS(t,a,u)),O=new Map;W_(O,this.driver,g,u,"*").forEach(t=>{tS(t,a,u)&&T.push(t)});const I=new Map;f.forEach((t,e)=>{W_(I,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=O.get(t),n=I.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const C=[],x=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>$w(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,S,i,I,O);if(o.setRealPlayer(n),t===A)C.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=ww(e)),r.push(o)}}else Qw(e,s.fromStyles),o.onDestroy(()=>$w(e,s.toStyles)),x.push(o),c.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=ww(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(Z_(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?X_(this,t,r):this.processLeaveNode(t)}return m.length=0,C.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),C}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=Ow(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Qw(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new gw(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof vw?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||U_).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),y=o.get(h),g=_w(0,this._normalizer,0,e.keyframes,m,y),v=this._buildPlayer(e,g,p);if(e.subTimeline&&r&&l.add(h),d){const e=new K_(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Ow(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Y_(t,"ng-animating"));const f=ww(h);return f.onDestroy(()=>{c.forEach(t=>Z_(t,"ng-animating")),$w(a,e.toStyles)}),l.forEach(t=>{Ow(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new gw(t.duration,t.delay)}}class K_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new gw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Sw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ow(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $_(t){return t&&1===t.nodeType}function Q_(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function W_(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Q_(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=q_,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Q_(t,o[a++])),s}function J_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function Y_(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Z_(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function X_(t,e,n){ww(n).onDone(()=>t.processLeaveNode(e))}function tS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class eS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new G_(t,e,n),this._timelineEngine=new M_(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=h_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new P_(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Iw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Iw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function nS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=iS(e[0]),e.length>1&&(r=iS(e[e.length-1]))):e&&(n=iS(e)),n||r?new rS(t,n,r):null}let rS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$w(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($w(this._element,this._initialStyles),this._endStyles&&($w(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Qw(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qw(this._element,this._endStyles),this._endStyles=null),$w(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function iS(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];oS(i)&&(e=e||{},e[i]=t[i])}return e}function oS(t){return"display"===t||"position"===t}class sS{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=fS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),hS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),lS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){aS(this._element,this._name,"paused")}resume(){aS(this._element,this._name,"running")}setPosition(t){const e=uS(this._element,this._name);this._position=t*this._duration,hS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),lS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=fS(t,"").split(","),r=cS(n,e);r>=0&&(n.splice(r,1),hS(t,"",n.join(",")))}(this._element,this._name))}}function aS(t,e,n){hS(t,"PlayState",n,uS(t,e))}function uS(t,e){const n=fS(t,"");return n.indexOf(",")>0?cS(n.split(","),e):cS([n],e)}function cS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function lS(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function hS(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function fS(t,e){return t.style["animation"+e]}class dS{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new sS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:o_(this.element,n))})}this.currentSnapshot=t}}class pS extends gw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class mS{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return jw(t)}matchesElement(t,e){return Rw(t,e)}containsElement(t,e){return Pw(t,e)}query(t,e,n){return Lw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fw(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof dS),u={};n_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=r_(t,e,u));if(0==n)return new pS(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=nS(t,e),d=new dS(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class yS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:o_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class gS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vS().toString()),this._cssKeyframesDriver=new mS}validateStyleProperty(t){return jw(t)}matchesElement(t,e){return Rw(t,e)}containsElement(t,e){return Pw(t,e)}query(t,e,n){return Lw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof yS);n_(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=nS(t,e=r_(t,e=e.map(t=>zw(t,!1)),u));return new yS(t,e,a,l)}}function vS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let bS=(()=>{class t extends dw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?pw(t):t;return SS(this._renderer,null,e,"register",[n]),new wS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class wS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new _S(this._id,t,e||{},this._renderer)}}class _S{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return SS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function SS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let ES=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new TS("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new OS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(eS),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class TS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class OS extends TS{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let IS=(()=>{class t extends eS{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s),r.Jb(Uw),r.Jb(x_))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const CS=[{provide:Uw,useFactory:function(){return"function"==typeof vS()?new gS:new mS}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:dw,useClass:bS},{provide:x_,useFactory:function(){return new A_}},{provide:eS,useClass:IS},{provide:r.E,useFactory:function(t,e,n){return new ES(t,e,n)},deps:[Ct,eS,r.z]}];let xS=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:CS,imports:[Vt]}),t})();const AS={apiKey:"AIzaSyD4UGX3VyXYqBCKRN5cq5sbzc-nLRmyg0Q",authDomain:"vaccinationupdates.firebaseapp.com",projectId:"vaccinationupdates",storageBucket:"vaccinationupdates.appspot.com",messagingSenderId:"958601428659",appId:"1:958601428659:web:97736a13a0f72f98c0fac6",measurementId:"G-QZ9XQNHNSV"};let kS=(()=>{class t{}return t.\u0275mod=r.Cb({type:t,bootstrap:[fw]}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[at],imports:[[Vt,co,Ce,xS,Qb,bo.a.initializeApp(AS)]]}),t})();Object(r.S)(),Mt().bootstrapModule(kS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);